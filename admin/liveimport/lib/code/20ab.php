<?php
/*
LiveImport (c) MaxD, 2016. Write to liveimport@devs.mx for support and purchase.
*/
 goto Aa6; b7d: $_COOKIE = e0($_COOKIE); e45: require_once DIR_SYSTEM . "\x6c\x69\142\162\x61\162\x79\x2f\x72\145\x71\165\145\x73\x74\x2e\160\x68\x70"; $request = new Request(); require_once DIR_SYSTEM . "\x6c\x69\142\162\x61\162\171\x2f\144\142\56\160\x68\x70"; goto d4f; ab3: foreach ($Ca->get("\x6d\x6f\x64\x65\154\137\141\x75\x74\157\154\x6f\x61\x64") as $A4) { $loader->model($A4); f08: } Ce0: Ed2: $user = new Cart\User($registry); $registry->set("\165\x73\x65\162", $user); goto B83; d48: a7f: d6a: $registry = new Registry(); $loader = new Loader($registry); $registry->set("\154\157\141\x64", $loader); goto De1; a5d: @(require_once VQMod::modCheck(DIR_SYSTEM . "\x6c\151\x62\162\141\162\171\57\143\x75\162\162\x65\x6e\x63\171\56\x70\150\160")); require_once VQMod::modCheck(DIR_SYSTEM . "\x6c\x69\142\162\141\x72\171\x2f\x75\163\x65\x72\56\160\150\x70"); require_once VQMod::modCheck(DIR_SYSTEM . "\x6c\151\x62\162\141\162\x79\x2f\x77\145\x69\x67\150\164\x2e\160\x68\x70"); require_once VQMod::modCheck(DIR_SYSTEM . "\154\x69\x62\162\141\162\x79\57\154\x65\x6e\x67\164\x68\x2e\x70\150\x70"); B78: goto d48; dab: function f9($A38, $Ef = '', &$Cd6 = false) { goto Aa2; f24: goto C26; ada: $A7 =& $Cd6; C26: global $default_lang, $incoming_language; goto f68; c6f: if (!$Ef) { goto C97; } foreach (g("\154\x61\x6e\147") as $eb9 => $id) { goto fd5; Feb: C3c: $A7[$id][$Ef] = A3($A38[$eb9]); Fbc: bf0: goto ed5; Eaf: $A7[$id][$Ef] = A3($A38[$default_lang]); goto Fbc; Bce: $A7[$id][$Ef] = a3($A38); goto Fbc; goto Feb; fd5: if (!$incoming_language) { goto ad9; } $A38 = bf($C7d, $incoming_language, $eb9); ad9: if (is_string($A38)) { goto Bce; } if (!empty($A38[$eb9])) { goto C3c; } goto Eaf; ed5: } aea: C97: return $A7; goto ede; f68: $C7d = $A38; if ($Ef) { goto F74; } foreach (g("\x6c\x61\x6e\x67") as $eb9 => $id) { goto c47; c47: if (!$incoming_language) { goto ccc; } $A38 = bf($C7d, $incoming_language, $eb9); ccc: if (is_string($A38)) { goto D12; } if (!empty($A38[$eb9])) { goto e0b; } goto cbf; cbf: $A7[$id] = A3($A38[$default_lang]); goto c16; D12: $A7[$id] = A3($A38); goto c16; goto c6d; c6d: e0b: $A7[$id] = A3($A38[$eb9]); c16: A79: goto Ac6; Ac6: } Eb9: F74: goto c6f; Aa2: if (!(is_array($A38) and is_numeric(key($A38)))) { goto Ebb; } $A38 = "\x3c\x70\76" . implode("\x3c\57\160\x3e\x3c\x70\x3e", $A38) . "\x3c\x2f\x70\x3e"; Ebb: if ($Cd6) { goto ada; } $A7 = array(); goto f24; ede: } function aD($E06, $F6c = false) { if ($F6c) { goto F67; } $F6c = $E06 . "\137\x69\x64"; F67: return @query("\123\x45\x4c\105\x43\124\40{$F6c}\40\106\122\117\115\40\157\x63\x5f{$E06}\x20\117\x52\x44\105\122\x20\x42\x59\x20{$F6c}\40\x44\x45\123\x43\40\114\111\x4d\x49\x54\40\x31")->row[$F6c]; } function get_last_product_id() { return AD("\160\162\157\x64\x75\x63\164"); } function process_product() { goto c07; E93: ec8: $d9d = array(); foreach ($images as $af => $c38) { goto E4f; d6c: b3f: if ($c38) { goto D67; } goto cad; D67: $d9d[] = $c38; goto D63; bc7: $Ba0 += 10; cad: goto C0c; E4f: if (!empty($clean_images[$af])) { goto E10; } $c38 = get_image($c38); goto b3f; E10: $c38 = get_image($c38, $clean_images[$af]); goto d6c; D63: if (!empty($product["\151\155\x61\147\x65"])) { goto b2e; } $product["\x69\x6d\141\x67\145"] = $c38; goto cad; b2e: $C2d[] = array("\x69\155\x61\x67\x65" => $c38, "\163\157\162\164\x5f\x6f\162\x64\x65\x72" => $Ba0); goto bc7; C0c: } d54: $product["\x70\x72\157\144\165\143\164\x5f\x69\155\x61\147\x65"] = $C2d; goto cf1; E2c: $product["\x70\x72\157\x64\x75\x63\164\x5f\157\160\164\x69\x6f\x6e"] = C0(); global $d1b; $price = F8(g("\160\162\151\x63\145"), $d1b); $new_price = F8(g("\156\145\167\137\160\162\x69\143\x65"), $d1b); if (!($new_price > $price)) { goto D87; } goto d99; cf1: $images = $d9d; $main_image = false; D0c: if (!(is_array($Bf) and count($Bf))) { goto f51; } foreach ($Bf as $F9 => $D3) { if (is_array($D3) and !empty($product[$F9])) { goto ccf; } $product[$F9] = $D3; goto a79; ccf: $product[$F9] = array_merge($product[$F9], $D3); a79: f06: } goto C56; Cde: if (!$new_price) { goto Cc0; } query("\x49\x4e\123\x45\x52\x54\40\x49\116\124\117\40\157\x63\137\160\x72\x6f\144\165\143\164\x5f\163\160\x65\x63\x69\141\x6c\40\123\105\124\40\160\162\x6f\x64\x75\x63\164\x5f\151\x64\75{$product_id}\54\x20\143\x75\163\x74\x6f\x6d\145\162\137\147\162\157\165\160\x5f\x69\x64\75" . g("\156\145\167\137\x70\162\151\143\145\137\147\162\157\x75\160\137\151\144", 1) . "\x2c\x20\160\162\151\x6f\x72\151\164\x79\x3d\61\x2c\40\x70\162\151\x63\x65\75\x27{$new_price}\x27\54\x20\x64\x61\164\145\137\145\156\144\x3d\47" . g("\156\x65\x77\x5f\x70\162\151\x63\145\137\x65\x6e\144") . "\47"); Cc0: if (!($download = g("\144\157\x77\x6e\x6c\157\x61\144"))) { goto Df5; } global $download_remaining; goto E2a; Bc5: if (!(g("\x73\153\x69\160\x5f\x7a\145\162\157\137\160\x72\x69\x63\x65") and (!g("\x70\x72\151\143\145") and !g("\x6e\x65\x77\x5f\160\162\x69\x63\145")))) { goto D1c; } xlog("\x50\x72\151\143\x65\40\151\163\40\172\x65\x72\x6f\54\40\163\153\x69\160\160\x69\156\x67\40\x70\x72\157\144\165\x63\164"); global $A25; $A25 = true; return false; goto b67; Fed: $master_category = substr($master_category, 0, strrpos($master_category, "\x20\x3e\40")); if (g("\x69\156\x68\x65\162\x69\164\137\143\x61\164\145\x67\157\162\151\x65\163")) { goto Ebe; } goto a91; Ebe: goto f28; goto eed; ca7: a10: $C0d = F9(g("\156\x61\x6d\145"), "\x6e\141\155\x65"); F9(g("\x68\61"), "\163\145\x6f\x5f\x68\61", $C0d); F9(g("\x68\61"), "\155\x65\x74\141\137\x68\160\x31", $C0d); f9(g("\x74\x69\x74\x6c\x65"), "\163\145\x6f\x5f\x74\x69\164\154\145", $C0d); goto d88; cc8: $new_price = false; D78: $product["\160\x72\x69\143\x65"] = $price; $product["\x70\x72\x6f\x64\x75\143\x74\137\x61\x74\164\162\151\x62\x75\164\145"] = b2(); if (!g("\163\153\x69\x70")) { goto c91; } goto c57; d8a: global $b5e; if ($product_id == 0) { goto d82; } $product["\156\145\x77\x5f\x70\x72\151\143\145"] = $new_price; if (g("\x75\160\x64\141\x74\145\x5f\x64\145\x73\x63\x72\151\x70\x74\151\x6f\x6e")) { goto b69; } $product["\x70\162\157\144\x75\143\x74\137\x64\x65\x73\x63\x72\x69\160\164\x69\157\156"] = array(); goto Ace; cb8: $f5f = f9($tags); global $Eab; if (!$Eab) { goto c53; } if (is_array($Eab)) { goto E6e; } $Eab = array(1 => array("\x70\x6f\x69\x6e\164\x73" => $Eab)); goto F24; aa4: $update_categories = 0; e76: global $seo_url; if (isset($seo_url)) { goto f3d; } $seo_url = g("\156\141\155\145"); goto Adf; F05: f9($meta_keyword, "\x6d\x65\164\141\x5f\153\x65\x79\x77\157\x72\144", $D08); f9(replace("\74\52\76", "\40", g("\155\x65\164\141\137\144\x65\163\x63\162\151\160\164\151\x6f\156")), "\x6d\x65\164\x61\137\144\x65\x73\x63\162\x69\160\x74\x69\x6f\x6e", $D08); f9(g("\164\x61\147\x73"), "\x74\x61\147", $D08); B0(g("\x64\x65\x73\x63\x72\151\x70\164\x69\157\156"), "\144\145\x73\x63\162\x69\x70\x74\151\157\x6e", $D08); b0(g("\163\x68\157\x72\x74\137\x64\x65\x73\x63\x72\151\160\x74\x69\x6f\x6e"), "\x73\150\x6f\x72\164\137\x64\x65\x73\143\x72\x69\x70\x74\151\x6f\x6e", $D08); goto E0b; Cd3: C0b: foreach ($download as &$Cd) { goto E8c; Bef: $Aef = str_replace(array("\x5f", "\x2d"), "\x20", $Aef); foreach (g("\x6c\x61\x6e\147") as $C1d) { query("\x49\116\123\105\122\124\40\x49\116\x54\117\x20\157\x63\137\x64\157\167\x6e\x6c\157\141\x64\x5f\x64\145\x73\143\x72\x69\160\164\151\x6f\x6e\x20\123\x45\x54\40\144\x6f\167\156\x6c\x6f\x61\x64\137\151\x64\75{$d5d}\54\x20\154\141\156\147\165\141\147\145\137\151\x64\x3d{$C1d}\54\x20\156\x61\x6d\145\x3d\x27{$Aef}\x27"); a6d: } C91: query("\111\x4e\123\x45\x52\x54\40\x49\116\124\117\40\157\143\x5f\160\162\x6f\144\x75\143\x74\137\164\157\x5f\144\157\167\x6e\154\x6f\141\144\x20\x53\x45\124\x20\144\x6f\x77\x6e\x6c\x6f\141\144\137\x69\144\x3d{$d5d}\54\x20\x70\162\x6f\144\165\x63\164\137\x69\x64\75{$product_id}"); c9d: goto Ec4; Fe9: $d5d = aD("\x64\157\x77\156\154\x6f\x61\144"); $Aef = $Cd; if (!($Bf = strrpos($Aef, "\56"))) { goto F57; } $Aef = substr($Aef, 0, $Bf); F57: goto Bef; E8c: $Cd = http_get_file($Cd, DIR_DOWNLOAD, ''); if (!$Cd) { goto c9d; } $file_mask = $Cd . random(1000000); rename(DIR_DOWNLOAD . $Cd, DIR_DOWNLOAD . $file_mask); query("\x49\116\123\105\122\124\x20\111\x4e\124\x4f\x20\x6f\143\x5f\144\157\x77\x6e\x6c\157\141\x64\x20\123\105\x54\40\x66\x69\x6c\x65\x6e\x61\x6d\145\75\47{$file_mask}\x27\54\40\155\141\x73\x6b\x3d\47{$Cd}\x27\x2c\x20\162\x65\155\x61\151\x6e\151\x6e\147\75{$download_remaining}"); goto Fe9; Ec4: ee1: goto B76; B76: } C05: Df5: if (!file_exists("\56\x2e\x2f\56\56\57\x63\141\164\141\154\157\x67\57\x6d\x6f\x64\145\x6c\x2f\x63\141\x74\141\x6c\157\147\x2f\157\143\x66\151\154\x74\145\162\56\160\x68\x70")) { goto C0f; } goto b5a; e02: if (!(!$inherit_categories and @($ins["\143\x61\164\145\147\x6f\162\x69\145\x73"][0] == $categories[0]))) { goto b4b; } unset($categories[0]); b4b: global $ba7, $categorizer; if (!((!$product_id or g("\x75\160\x64\141\164\x65\x5f\x63\141\x74\x65\147\157\162\x69\145\163") == true) and $categorizer)) { goto bd0; } goto E31; E95: if (!$filter) { goto a13; } da($product_id, A0($filter)); a13: $b5e = $product_id; $A34 = g("\x6e\141\155\145"); goto Ca5; a33: c3d: if (!g("\x63\x61\164\x65\x67\x6f\x72\171")) { goto e09; } $product["\x6d\x61\151\156\x5f\143\141\x74\x65\147\157\162\x79\x5f\x69\144"] = Af(g("\143\x61\164\145\147\157\x72\x79")); e09: unset($GLOBALS["\x73\145\157\x5f\x75\x72\154"]); goto F7e; Dfe: Fd8: ed4: E98: B0($description, "\144\x65\x73\x63\162\151\x70\x74\x69\x6f\x6e", $C0d); $Bf = g("\160\162\x6f\144\165\143\164"); goto e12; b5a: ae($product_id); C0f: global $ab5; d4($ab5, "\160\162\x6f\144\165\143\x74", $product_id); global $update_reviews; goto bc4; C38: global $a6, $ins, $name, $description_images, $update_status; global $new_price_end; if (!is_numeric($new_price_end)) { goto C25; } $new_price_end = date("\x59\55\155\x2d\x64", time() + $new_price_end * 86400); C25: goto c30; cf2: goto Fb2; d82: if (!g("\x72\145\154\x61\164\145\144\x5f\x6f\160\x74\x69\x6f\x6e\163")) { goto B88; } $product = array_merge($product, g("\x72\x65\x6c\x61\164\x65\x64\137\x6f\160\x74\x69\x6f\x6e\163\x5f\x64\141\x74\x61")); B88: goto Afb; B0d: if (!($A7 !== false)) { goto e0e; } unset($related[$A7]); e0e: E8e: global $weight, $weight_class_id; goto B47; eed: a91: $categories = array_unique($categories); foreach ($categories as $af => &$be3) { if ($be3) { goto Fab; } unset($categories[$af]); goto e9e; Fab: if (is_numeric($be3)) { goto B5a; } $be3 = Af($be3, false); B5a: e9e: } F54: $categories = array_unique($categories); goto Cc2; Adf: f3d: if (!$seo_url) { goto D64; } $seo_url = translit($seo_url); D64: if (!g("\x73\x65\157\137\165\x72\154")) { goto a65; } goto E94; Faa: global $categories, $a2; $master_category = g("\x69\156\146\157\x32"); global $category, $inherit_categories; $master_category = $category; af($master_category); goto e02; d88: F9(g("\164\151\164\154\x65", g("\156\141\155\x65")), "\x6d\145\164\x61\137\164\x69\x74\x6c\145", $C0d); f9(g("\x6d\145\164\x61\x5f\x6b\x65\171\167\x6f\x72\144"), "\x6d\145\x74\x61\137\x6b\145\171\167\x6f\162\x64", $C0d); B0(g("\x73\x68\157\162\164\137\x64\145\163\143\x72\151\160\164\151\157\x6e"), "\x73\150\157\x72\x74\137\144\145\x73\143\162\151\x70\164\x69\157\x6e", $C0d); f9(replace("\x3c\52\x3e", "\40", g("\x6d\x65\x74\x61\137\144\x65\x73\143\x72\x69\160\x74\151\157\156")), "\155\145\x74\x61\x5f\144\145\x73\143\162\151\x70\x74\x69\157\156", $C0d); f9($tags, "\164\141\x67", $C0d); goto D37; Cc2: global $update_categories; if (!($update_categories == 0 && $product_id)) { goto E5e; } $D20 = query("\123\105\114\x45\x43\124\40\x63\x61\x74\145\x67\157\162\x79\x5f\151\x64\40\x46\x52\x4f\115\x20\x6f\x63\137\160\x72\157\144\x75\x63\164\x5f\x74\157\x5f\143\x61\x74\145\x67\157\x72\x79\x20\127\110\x45\x52\105\x20\160\x72\157\x64\x75\x63\164\137\x69\144\x20\x3d\x20\x27" . (int) $product_id . "\47")->rows; $a74 = array(); foreach ($categories as $b0) { if ($b0) { goto C5c; } goto f78; C5c: $C0 = false; foreach ($D20 as $d51) { if (!($b0 == $d51["\143\x61\x74\x65\x67\x6f\x72\x79\x5f\151\x64"])) { goto dc9; } $C0 = true; goto dd3; dc9: d4c: } dd3: if ($C0) { goto f4a; } $a74[] = $b0; f4a: f78: } goto df4; b67: D1c: $meta_keyword = tagit(g("\155\x65\x74\x61\x5f\x6b\x65\171\x77\x6f\162\144")); global $use_yandex_translate, $incoming_language, $A25, $d59; if (!($use_yandex_translate and $incoming_language)) { goto F4a; } $B55 = $A25; goto A0b; bab: Cbb: $product["\x73\x74\x6f\143\x6b\137\x73\164\141\164\x75\x73\x5f\151\x64"] = g("\x73\x74\x6f\143\x6b\137\x73\164\141\x74\165\x73\x5f\151\144"); c1d: if (Db) { goto c3d; } $product["\160\162\157\x64\x75\143\x74\137\154\141\171\157\165\x74"] = array(0 => array("\154\141\171\x6f\x75\x74\x5f\151\144" => '')); goto a33; D37: global $A25, $description; if ($A25) { goto E98; } if (!(!$product_id or g("\165\x70\x64\x61\164\x65\137\x64\145\163\x63\x72\151\160\164\151\x6f\x6e"))) { goto ed4; } if (!$description_images) { goto Fd8; } $description = get_html_images($description); goto Dfe; C56: Aa8: f51: if (!g("\141\x75\164\x6f\x5f\x66\x69\154\x74\145\x72")) { goto d12; } B3($product); d12: goto d8a; d99: $fdd = $price; $price = $new_price; $new_price = $fdd; D87: if (!($price == $new_price)) { goto D78; } goto cc8; be7: $Eb3[] = 0; Cc1: $af = 0; F21: if (!isset($Eb3[$af])) { goto a1b; } goto d24; D7f: $model = substr8($model, 0, 60); goto f1b; C17: $model = sku_gen(g("\x6e\141\155\x65"), g("\160\x72\157\x64\x75\x63\x74\x5f\151\x64")); f1b: goto c18; d24: if (is_numeric($Eb3[$af])) { goto b4d; } $Eb3[$af] = AF($Eb3[$af], false); b4d: $be3 = $Eb3[$af]; $C0 = false; goto fa5; E31: $Eb3 = $categories; if (!$category) { goto bd7; } $Eb3 = array_merge(array($category), $categories); bd7: if ($Eb3) { goto Cc1; } goto be7; f2d: $c4 = g("\163\153\165"); a83: if (!$Dca) { goto cc9; } xlog("\x50\162\x6f\144\x75\x63\164\40\165\160\144\x61\x74\x65\x64\x3a\40\x3c\163\164\x72\157\156\x67\76\74\141\x20\x68\162\x65\146\x3d\42" . B4() . "\42\x20\x74\x61\x72\147\x65\x74\x3d\42\137\142\x6c\141\x6e\x6b\x22\x3e" . $c4 . "\x3c\57\141\x3e\x3c\57\x73\x74\x72\x6f\156\x67\76\x3c\142\162\57\x3e" . implode("\54\x20", $Dca)); cc9: goto cf2; Ca5: if (!is_array($A34)) { goto df0; } $A34 = reset($A34); df0: xlog("\x4e\x4f\x54\x49\x43\105\x3a\x20\120\162\157\144\x75\143\x74\x20\x61\x64\x64\145\144\x3a\x20\x3c\141\40\150\162\x65\x66\75\42" . B4() . "\x22\40\164\141\162\147\x65\164\x3d\x22\x5f\142\x6c\x61\x6e\x6b\x22\76\x3c\x73\x74\162\157\156\147\76" . $A34 . "\x3c\57\x73\x74\x72\x6f\156\147\x3e\x3c\57\x61\76"); $GLOBALS["\160\162\x6f\144\165\x63\x74\137\151\x64"]++; goto Ca9; f90: $weight_class_id = 2; Aab: if (!find("\x20\320\223", $weight)) { goto b0a; } $weight_class_id = 2; b0a: goto B79; e12: if (empty($Bf["\160\162\157\x64\x75\143\x74\137\144\x65\x73\x63\162\151\x70\x74\151\x6f\x6e"])) { goto Cc7; } foreach ($Bf["\160\x72\157\x64\x75\x63\164\137\x64\x65\x73\143\162\151\160\164\x69\x6f\156"] as $F9 => $A4) { B0($A4, $F9, $C0d); Ac4: } dd4: unset($Bf["\x70\162\x6f\144\165\143\164\x5f\x64\145\163\x63\x72\x69\x70\164\x69\x6f\x6e"]); Cc7: goto cb8; fa5: $Ce7 = false; foreach ($a2 as $E0b) { goto A22; F3c: D88: $C8 = $ba7[$Ed6]; if ($C8 == "\165\x6e\x63\x61\164\x65\147\157\x72\151\172\x65\x64") { goto b74; } if (find($C8, $categorizer)) { goto fa9; } goto b42; goto Ea1; ae2: if (!$C3f) { goto a3c; } $ba7[$Ed6] = $C3f; a3c: goto fe3; fe6: goto e28; A22: if (!($E0b["\x70\x61\x72\145\156\164\x5f\151\144"] == $be3)) { goto f87; } $Ed6 = $E0b["\143\x61\164\145\x67\157\x72\x79\x5f\x69\144"]; if (!empty($ba7[$Ed6])) { goto d5f; } $D6 = query("\123\105\114\x45\x43\124\40\153\145\x79\x77\x6f\162\x64\163\40\x46\122\x4f\x4d\x20\160\x61\162\163\145\x6d\170\137\143\x61\x74\x65\x67\157\x72\x69\x7a\x65\162\40\127\110\105\x52\x45\x20\x63\141\164\145\147\x6f\162\171\137\x69\144\75{$Ed6}")->row; if ($D6) { goto fe6; } goto f34; C68: $C0 = true; b42: f87: Ac0: goto Ff0; f34: $C3f = ''; $D6 = query("\123\105\x4c\105\103\x54\x20\x6e\141\155\x65\x2c\x20\144\x65\x73\143\162\151\160\x74\x69\157\156\40\x46\x52\117\x4d\40" . DB_PREFIX . "\143\x61\164\145\147\157\x72\171\x5f\x64\x65\163\143\162\x69\x70\x74\151\157\x6e\40\127\x48\x45\x52\x45\x20\143\141\164\x65\x67\157\x72\x79\x5f\151\x64\75{$Ed6}\x20\x41\116\104\40\154\x61\156\x67\x75\x61\147\x65\x5f\151\x64\75" . g("\x64\x65\146\141\165\154\x74\x5f\154\141\156\147\137\x69\x64"))->row; if (!$D6) { goto D53; } $C3f = categorizer_keywords($D6["\156\141\x6d\x65"] . "\x20" . html_entity_decode($D6["\x64\x65\x73\x63\x72\151\x70\x74\x69\x6f\156"])); D53: goto ae2; e28: $ba7[$Ed6] = $D6["\x6b\145\x79\167\157\162\x64\x73"]; fe3: d5f: if (!empty($ba7[$Ed6])) { goto D88; } goto Ac0; goto F3c; Ea1: b74: $Ce7 = $Ed6; goto b42; fa9: $Eb3[] = $Ed6; goto C68; Ff0: } b8e: if (!($Ce7 and !$C0)) { goto Bbd; } $Eb3[] = $Ce7; goto A15; c88: if (!(!$product_id or g("\x75\x70\x64\141\x74\x65\x5f\x69\x6d\x61\147\145\x73"))) { goto D0c; } global $main_image, $images; if (!empty($images)) { goto A88; } $images = array(); A88: goto Abc; B47: if (!$weight) { goto Eb6; } if (!find("\x20\x67", $weight)) { goto fee; } $weight_class_id = 2; fee: if (!find("\40\xd0\263", $weight)) { goto Aab; } goto f90; c18: $product_id = product_match(); if (!(!$name and (!$product_id or g("\x75\160\x64\141\164\x65\x5f\x64\145\x73\x63\162\151\160\164\x69\157\156")))) { goto D47; } xlog("\x4e\157\40\x6e\141\x6d\x65\54\40\163\x6b\x69\160\160\x69\x6e\x67\40\x70\162\157\x64\165\x63\164\x2e"); return false; D47: goto Faa; Afb: global $url; f2("\x6c\157\141\x64")->model("\143\x61\164\x61\x6c\x6f\x67\57\x70\162\157\144\165\x63\x74"); c2($product["\x6b\x65\x79\167\157\162\x64"]); @f2("\155\157\x64\145\x6c\x5f\143\x61\164\x61\154\x6f\147\137\160\162\157\144\x75\143\x74")->addProduct($product); $product_id = query("\x53\105\x4c\x45\103\x54\40\x70\162\x6f\144\x75\x63\x74\x5f\151\x64\x20\106\x52\117\x4d\40\157\x63\x5f\x70\162\x6f\144\x75\143\164\x20\x4f\x52\104\105\x52\x20\x42\x59\40\x70\x72\x6f\x64\165\x63\x74\x5f\151\x64\40\104\105\123\103\40\x4c\x49\x4d\111\124\40\x31")->row["\160\x72\157\x64\x75\x63\164\137\151\144"]; goto Cde; B79: Eb6: $product = array("\x70\162\157\144\x75\x63\164\137\x64\145\163\143\162\x69\160\164\x69\157\x6e" => $C0d, "\x70\162\x6f\144\165\x63\x74\137\164\x61\147" => $f5f, "\155\x6f\x64\145\x6c" => $model, "\x73\x6b\x75" => g("\163\x6b\x75"), "\x75\x70\143" => g("\x75\160\x63"), "\145\x61\156" => g("\x65\x61\x6e"), "\x6a\141\156" => g("\152\141\x6e"), "\x69\163\142\156" => g("\151\163\142\156"), "\x6d\x70\156" => g("\x6d\x70\x6e"), "\154\x6f\x63\141\x74\151\157\x6e" => g("\x6c\x6f\143\x61\x74\151\157\156"), "\x74\141\170\x5f\x63\154\x61\x73\163\137\x69\x64" => g("\x74\141\170\x5f\x63\x6c\141\163\x73\x5f\x69\x64", "\60"), "\x71\165\141\x6e\x74\x69\164\171" => g("\x71\x75\141\156\164\151\x74\171", "\61\x30\x30\x30"), "\x6d\x69\156\151\x6d\165\155" => g("\155\x69\156\151\155\165\x6d", "\61"), "\x73\x75\142\x74\x72\x61\x63\x74" => g("\163\165\142\164\162\x61\143\x74", "\x31"), "\163\164\x6f\143\153\x5f\x73\164\x61\x74\x75\163\137\151\x64" => g("\163\x74\157\143\153\137\163\164\141\164\165\163\137\151\144", "\x35"), "\x73\x68\x69\x70\x70\151\156\147" => g("\163\150\151\x70\x70\x69\156\x67", "\61"), "\x6b\145\171\x77\x6f\162\144" => g("\153\x65\x79\x77\157\162\x64"), "\144\141\164\x65\x5f\141\166\x61\x69\x6c\x61\142\x6c\145" => g("\144\x61\164\145\x5f\141\166\141\x69\154\141\x62\154\x65", date("\x59\55\155\55\x64")), "\154\x65\x6e\x67\x74\150" => g("\x6c\x65\x6e\x67\x74\150"), "\167\x69\144\164\x68" => g("\167\151\x64\x74\150"), "\x68\x65\151\x67\x68\164" => g("\x68\x65\x69\x67\x68\x74"), "\x6c\x65\156\x67\x74\150\x5f\x63\x6c\x61\x73\163\x5f\x69\x64" => g("\x6c\145\x6e\147\164\x68\137\x63\x6c\x61\x73\x73\x5f\x69\x64", "\x31"), "\167\x65\x69\x67\x68\x74" => g("\x77\x65\x69\x67\x68\x74"), "\167\x65\151\x67\150\164\x5f\x63\x6c\x61\163\x73\137\151\144" => g("\167\145\x69\147\x68\164\137\143\x6c\141\x73\x73\x5f\151\144", "\x31"), "\163\x74\x61\x74\x75\x73" => g("\x73\164\141\x74\x75\163", "\x31"), "\163\x6f\x72\x74\x5f\x6f\x72\144\x65\162" => "\61", "\155\141\156\165\x66\x61\x63\164\165\162\x65\162\x5f\x69\x64" => empty($GLOBALS["\155\141\x6e\x75\x66\141\143\164\x75\162\x65\162"]) ? $ins["\155\141\156\x75\x66\x61\x63\x74\x75\x72\x65\x72"] : ManufacturerID(g("\155\141\156\165\146\141\143\x74\165\162\x65\x72"), true), "\155\141\151\x6e\x5f\143\141\x74\145\x67\157\162\x79\x5f\151\x64" => @$categories[0], "\160\162\x6f\144\165\143\x74\137\x63\x61\164\x65\147\157\x72\171" => $categories, "\x70\162\157\x64\x75\x63\164\137\163\x74\157\x72\x65" => g("\160\x72\157\x64\165\x63\164\137\163\164\157\162\x65", array("\60")), "\162\x65\x6c\141\164\145\x64" => '', "\157\160\x74\x69\157\156" => '', "\160\157\x69\156\x74\163" => g("\160\x6f\x69\156\x74\x73"), "\x70\162\x6f\144\x75\143\x74\x5f\162\145\167\x61\162\x64" => $Eab); if (g("\163\x74\x6f\143\153\137\x73\164\x61\164\x75\163\137\x69\144")) { goto Cbb; } $product["\163\164\x6f\x63\x6b\137\x73\x74\x61\164\165\163\137\x69\x64"] = g("\x74\x61\170\x5f\x63\154\141\163\x73\x5f\x69\x64"); goto c1d; goto bab; A15: $C0 = true; Bbd: if (!($C0 and !$inherit_categories)) { goto Ab9; } unset($Eb3[$af]); Ab9: goto aaf; df4: Efe: foreach ($a74 as $f7) { query("\x49\x4e\123\105\122\x54\x20\111\x4e\x54\117\x20\x6f\x63\x5f\160\162\x6f\x64\x75\143\164\137\x74\157\137\x63\x61\x74\145\147\x6f\x72\171\x20\123\x45\124\40\x70\x72\157\144\x75\143\164\x5f\151\144\40\75\40\47" . (int) $product_id . "\47\x2c\40\x63\x61\164\x65\147\x6f\162\x79\x5f\x69\x64\x20\75\x20\x27" . (int) $f7 . "\47"); f69: } b6a: E5e: if (!($update_categories === -1)) { goto e76; } goto aa4; c57: return false; c91: if (!($product_id and g("\x75\x70\144\141\x74\145\137\151\x6d\141\147\x65\163"))) { goto e2e; } B6($product_id); e2e: goto c88; Ace: b69: $options = isset($product["\x70\162\x6f\x64\x75\x63\x74\137\157\160\164\151\x6f\156"]) ? $product["\x70\x72\x6f\144\165\x63\164\137\157\160\x74\151\157\156"] : array(); $atributes = isset($product["\x70\x72\x6f\x64\165\143\164\137\x61\x74\164\x72\151\142\165\164\145"]) ? $product["\x70\162\x6f\144\x75\x63\164\x5f\x61\164\164\x72\x69\142\165\164\145"] : array(); $Dca = b9($product_id, $product, $options, $atributes); $b5e = $product_id; goto D18; aaf: $af++; goto F21; a1b: if (!$Eb3) { goto c1b; } foreach ($a2 as $E0b) { if (!($E0b["\143\141\164\145\x67\x6f\162\171\137\151\x64"] == end($Eb3))) { goto e95; } $category = str_replace("\x20\46\147\x74\x3b\x20", "\x20\x3e\40", $E0b["\x66\x75\x6c\154\156\x61\155\145"]); goto ad1; e95: Fd3: } goto Fad; fac: $Ba0 = 10; global $clean_images, $clean_main_image; if (!empty($clean_images)) { goto D94; } $clean_images = array(); D94: goto B72; F7e: unset($GLOBALS["\153\x65\x79\167\x6f\x72\144"]); if (!$related) { goto A43; } $product["\162\145\x6c\141\x74\145\x64"] = $related; $product["\x70\162\157\x64\165\x63\x74\137\162\x65\154\x61\x74\145\144"] = $related; A43: goto E2c; D18: $c4 = g("\x6e\x61\x6d\x65"); if ($c4) { goto eba; } $c4 = g("\155\x6f\x64\145\x6c"); eba: if ($c4) { goto a83; } goto f2d; c30: if (!(!isset($update_status) and $a6["\155\x69\163\x73\x69\x6e\x67"] == "\x64\x69\163\x61\x62\154\145")) { goto b29; } $update_status = true; b29: $model = g("\155\x6f\x64\x65\x6c"); if (!$model) { goto C17; } goto D7f; bc4: if ($update_reviews) { goto f43; } $update_reviews = true; f43: B1($product_id); global $filter; goto E95; E94: $GLOBALS["\153\x65\171\x77\157\162\144"] = g("\163\x65\157\x5f\x75\x72\154"); a65: $tags = g("\x74\141\147\x73"); if (!is_array($tags)) { goto a10; } $tags = implode("\54\x20", $tags); goto ca7; d07: c53: global $related; if (!(isset($related[0]["\160\x72\157\144\x75\143\164\x5f\x69\x64"]) && strlen($related[0]["\160\x72\x6f\x64\x75\x63\164\x5f\151\144"]) > 1)) { goto e53; } $A7 = array(); foreach ($related as $bc2) { $A7[] = $bc2["\160\162\157\x64\x75\143\x74\x5f\x69\144"]; a20: } goto e66; Abc: if (!$main_image) { goto B6f; } $images = array_merge(array($main_image), $images); B6f: F1($images, true); $C2d = array(); goto fac; fad: if (!$master_category) { goto a91; } $dcf = af($master_category, false); if (!$dcf) { goto c5e; } $categories[] = $dcf; c5e: goto Fed; Ca9: Fb2: return $product_id; goto A76; c07: global $d5; if (!$d5) { goto e9c; } echo "\74\142\x72\x2f\x3e"; xlog("\74\163\x70\141\x6e\x20\163\164\x79\154\x65\75\x27\x66\157\156\x74\55\163\x69\x7a\x65\72\x31\66\x70\170\73\x20\x63\x6f\x6c\x6f\x72\x3a\x67\162\145\145\156\x27\76\x3c\146\157\156\164\40\x63\157\x6c\x6f\162\75\47\x67\162\145\171\47\76\x45\x78\x65\143\x75\164\x69\156\x67\x3c\x2f\146\x6f\156\x74\76\x20\160\x72\157\x63\145\x73\x73\x5f\160\162\x6f\x64\165\143\164\50\x29\x3c\x2f\x73\160\x61\x6e\76"); e9c: goto Bc5; E0b: B2(); C0(); $d59 = false; $A25 = $B55; F4a: goto C38; A0b: $A25 = true; $d59 = true; $D08 = f9(g("\x6e\x61\155\x65"), "\x6e\141\x6d\x65"); f9(g("\150\61"), "\x73\x65\x6f\x5f\x68\x31", $D08); f9(g("\164\x69\x74\x6c\x65"), "\163\x65\157\x5f\x74\151\x74\154\145", $D08); goto F05; F24: goto b9d; E6e: foreach ($Eab as $af => $Bf) { if (is_array($Bf)) { goto d29; } $Eab[$af] = array("\160\x6f\x69\156\x74\163" => $Bf); d29: Bb8: } Ac2: b9d: goto d07; Fad: ad1: $categories = array_merge($categories, $Eb3); c1b: bd0: f28: goto fad; e66: B06: $related = $A7; e53: if (!is_array($related)) { goto E8e; } $A7 = array_search($product_id, $related); goto B0d; E2a: if (!empty($download_remaining)) { goto a31; } $download_remaining = 10; a31: if (is_array($download)) { goto C0b; } $download = array($download); goto Cd3; B72: if (!$clean_main_image) { goto e29; } $clean_images = array_merge(array($clean_main_image), $clean_images); e29: if (!empty($clean_images)) { goto ec8; } $images = array_unique($images); goto E93; A76: } function is_seo_url_free($keyword) { $A7 = query("\123\x45\114\x45\103\124\x20\161\x75\145\162\x79\x20\106\x52\117\x4d\40\x6f\x63\137\x75\x72\x6c\137\x61\154\x69\141\163\x20\127\110\x45\122\105\40\x6b\145\171\x77\157\x72\x64\40\x3d\40\x27" . escape($keyword) . "\47")->row; if ($A7) { goto B61; } return true; goto A1e; B61: return false; A1e: } goto a3b; Be6: $registry->set("\154\141\156\x67\165\141\x67\x65", $language); $registry->set("\144\x6f\143\x75\x6d\x65\x6e\164", new Document()); if (!$Ca->has("\x63\x6f\156\x66\151\x67\137\141\165\x74\x6f\154\157\x61\144")) { goto ca4; } foreach ($Ca->get("\x63\x6f\156\x66\151\x67\137\141\x75\164\x6f\154\157\x61\144") as $A4) { $loader->config($A4); d9a: } F4d: goto e27; C5f: require_once $vqmod->modCheck(DIR_SYSTEM . "\x73\164\x61\162\164\x75\160\x2e\x70\150\160"); @(require_once $vqmod->modCheck(DIR_SYSTEM . "\154\151\x62\162\141\x72\171\57\143\x75\x72\x72\x65\156\143\171\x2e\x70\150\x70")); require_once $vqmod->modCheck(DIR_SYSTEM . "\x6c\x69\x62\x72\141\162\171\57\x75\x73\145\x72\56\160\x68\160"); require_once $vqmod->modCheck(DIR_SYSTEM . "\154\151\x62\x72\x61\162\171\57\x77\x65\151\147\x68\x74\56\160\x68\x70"); require_once $vqmod->modCheck(DIR_SYSTEM . "\x6c\151\142\x72\141\162\x79\57\154\x65\156\x67\x74\x68\x2e\160\150\160"); goto e8f; f47: if ($B4c) { goto B0b; } $B4c = $Ca->get("\154\x61\x6e\147\165\141\147\145\x5f\144\x65\146\x61\165\154\x74"); B0b: foreach ($languages as $A4) { $lang[$A4["\x63\x6f\x64\x65"]] = $A4["\x6c\x61\156\147\x75\141\147\x65\137\151\144"]; if (!(is_numeric($B4c) && $A4["\x6c\141\156\x67\x75\x61\x67\x65\137\x69\144"] == $B4c or !is_numeric($B4c) && $A4["\x63\x6f\x64\145"] == $B4c)) { goto dbb; } $default_lang = $A4["\143\x6f\x64\x65"]; $default_lang_id = $A4["\x6c\141\x6e\x67\x75\x61\147\x65\x5f\151\x64"]; $Ca->set("\143\157\x6e\x66\x69\x67\x5f\154\x61\x6e\147\165\x61\147\x65\x5f\151\x64", $default_lang_id); dbb: Ae6: } d93: goto C12; D39: cc0: $language->load($languages[$Ca->get("\143\157\156\x66\x69\147\x5f\141\144\155\151\156\137\x6c\141\156\x67\165\141\x67\145")]["\x66\x69\x6c\145\156\141\x6d\x65"]); $registry->set("\154\141\156\147\165\x61\x67\145", $language); $document = new Document(); $registry->set("\144\157\x63\165\155\x65\x6e\x74", $document); goto fc6; Cff: foreach ($Ac6->rows as $setting) { goto f7a; f7a: if (!$setting["\x73\x65\162\x69\x61\x6c\x69\x7a\x65\x64"]) { goto D75; } if ($setting["\166\141\154\x75\145"][0] == "\x7b" || $setting["\x76\x61\154\165\145"][0] == "\x5b") { goto F9a; } $Ca->set($setting["\153\145\171"], unserialize($setting["\166\x61\154\165\145"])); goto Ff5; F9a: goto Eb7; fd8: ba3: b75: goto F49; Eb7: $Ca->set($setting["\153\145\x79"], json_decode($setting["\166\x61\x6c\x75\x65"], true)); Ff5: goto ba3; D75: $Ca->set($setting["\x6b\x65\x79"], $setting["\x76\141\154\x75\145"]); goto fd8; F49: } C8f: $url = new Url(HTTP_SERVER, $Ca->get("\x63\x6f\156\x66\x69\x67\137\x75\163\x65\137\x73\x73\x6c") ? HTTPS_SERVER : HTTP_SERVER); $registry->set("\x75\x72\154", $url); $log = new Log($Ca->get("\143\157\156\146\x69\x67\137\145\162\x72\157\x72\x5f\x66\x69\x6c\x65\x6e\141\x6d\145")); goto Afe; e27: ca4: if (!$Ca->has("\154\141\x6e\147\165\141\x67\x65\137\x61\165\x74\157\x6c\157\x61\x64")) { goto Ab0; } foreach ($Ca->get("\x6c\x61\x6e\147\x75\141\147\x65\137\141\165\x74\x6f\x6c\x6f\x61\x64") as $A4) { $loader->language($A4); E24: } f5c: Ab0: goto C94; a0d: f14: require_once "\x2e\56\x2f\x2e\x2e\57\166\161\x6d\x6f\x64\x2f\x76\x71\155\157\x64\x2e\160\x68\x70"; VQMod::bootup(); require_once VQMod::modCheck(DIR_SYSTEM . "\163\x74\141\x72\x74\x75\160\56\160\x68\x70"); bcb: goto f8e; C4e: Ae8: B62: F2("\x6c\x6f\x61\x64")->model("\x6c\157\143\x61\154\151\x73\x61\164\x69\157\x6e\x2f\143\x75\162\162\145\156\143\x79"); $A02 = f2("\155\x6f\x64\145\154\137\x6c\x6f\x63\x61\154\x69\163\141\164\151\157\x6e\x5f\x63\x75\162\162\145\x6e\x63\x79")->getCurrencies(); $lang = array(); goto Fe0; b52: Dd1: dff: $loader = new Loader($registry); $registry->set("\154\157\141\144", $loader); $registry->set("\162\145\161\165\145\163\164", new Request()); goto ea4; C71: function Fd($D3) { global $db; query("\111\116\x53\x45\x52\124\x20\x49\x4e\124\117\x20\157\143\137\141\164\164\x72\151\x62\x75\x74\145\x20\123\105\124\x20\x61\x74\164\x72\151\x62\x75\164\145\137\x67\162\157\165\x70\137\x69\144\40\x3d\40\47" . (int) $D3["\x61\x74\x74\x72\x69\x62\165\x74\145\137\147\162\157\x75\160\x5f\x69\x64"] . "\x27\x2c\x20\x73\x6f\162\x74\x5f\157\x72\x64\145\162\40\x3d\x20\47" . (int) $D3["\x73\x6f\162\x74\137\x6f\x72\144\145\162"] . "\x27"); $Fd = $db->getLastId(); foreach ($D3["\141\x74\x74\162\x69\142\x75\164\x65\x5f\x64\145\x73\x63\162\x69\160\164\151\157\x6e"] as $C6 => $A4) { query("\x49\x4e\x53\x45\122\x54\x20\x49\x4e\124\117\x20\157\143\x5f\x61\164\x74\162\x69\x62\x75\164\145\137\144\x65\x73\x63\162\x69\160\x74\151\157\x6e\x20\123\x45\x54\x20\141\164\x74\x72\x69\x62\x75\164\x65\x5f\x69\x64\40\x3d\x20\47" . (int) $Fd . "\x27\x2c\40\x6c\141\x6e\147\165\x61\x67\145\137\x69\144\x20\75\x20\47" . (int) $C6 . "\47\x2c\40\x6e\x61\x6d\x65\x20\x3d\40\47" . escape($A4["\x6e\x61\155\145"]) . "\47"); b9e: } C13: return $Fd; } function cf($D3) { global $db; $B4 = "\111\116\x53\x45\122\x54\x20\x49\116\124\117\40\x6f\143\137\x61\x74\164\162\151\x62\165\x74\x65\137\x67\x72\x6f\x75\160\40\123\105\x54\40\163\157\162\164\137\157\162\144\145\162\40\75\x20\47" . (int) $D3["\x73\x6f\x72\x74\137\157\162\x64\x65\162"] . "\47"; query($B4); $F6 = $db->getLastId(); foreach ($D3["\141\164\164\x72\151\x62\x75\x74\x65\x5f\147\x72\157\x75\160\137\x64\x65\163\x63\162\x69\x70\164\151\157\x6e"] as $C6 => $A4) { query("\111\x4e\x53\x45\122\x54\40\x49\116\124\x4f\40\157\x63\137\141\x74\164\x72\151\x62\165\x74\x65\137\147\x72\157\x75\x70\137\144\145\x73\x63\162\151\160\x74\151\157\156\x20\x53\105\x54\x20\x61\164\164\x72\151\142\165\164\x65\x5f\147\162\x6f\165\x70\x5f\x69\144\40\x3d\40\x27" . (int) $F6 . "\47\x2c\40\x6c\141\x6e\147\165\x61\147\x65\x5f\x69\144\40\75\x20\x27" . (int) $C6 . "\x27\x2c\40\156\141\155\x65\40\x3d\40\47" . escape($A4["\x6e\x61\155\145"]) . "\x27"); A74: } d50: return $F6; } function B2() { goto E80; F0c: a44: $F5 = "\x5f\147\147"; if (is_array(reset($attributes))) { goto fc5; } $c7 = $attributes; goto bc8; goto F69; E3e: F2("\154\x6f\141\x64")->model("\x63\141\x74\141\x6c\157\147\x2f\x61\x74\164\x72\x69\142\x75\164\x65"); $c30 = F2("\x6d\157\144\145\154\137\x63\x61\x74\141\154\157\147\x5f\141\164\164\x72\x69\142\x75\164\x65\137\147\x72\157\165\160")->getAttributeGroups(); foreach ($c30 as $A4) { $Af0[$A4["\156\x61\x6d\x65"]] = $A4["\141\x74\164\162\151\x62\165\164\145\137\147\162\x6f\x75\160\x5f\x69\144"]; b60: } Aeb: B08: goto C2d; C0a: return array(); e1f: $c7 = $Aac; $D83 = array(); $z_order = 100; goto b54; E01: $name = false; $Aac = array(); foreach ($c7 as $C85) { goto F6e; Ae1: $name = trim($C85); if (!(substr($name, -1) == "\x3a")) { goto b24; } $name = trim(substr($name, 0, -1)); b24: a11: goto E4c; F6e: $C85 = a3(trim($C85)); if ($Bf) { goto F5e; } $Aac[] = array("\x6e\x61\x6d\x65" => $name, "\x76\141\x6c\165\145" => $C85); goto a11; F5e: goto Ae1; E4c: $Bf = !$Bf; B85: goto Efc; Efc: } E0a: if ($Aac) { goto e1f; } goto C0a; b54: if (!(count($c7) > 0)) { goto e30; } $d89 = ''; static $Af0, $c3c; if ($Af0) { goto B08; } F2("\x6c\x6f\141\144")->model("\x63\141\164\x61\154\x6f\147\57\141\x74\164\162\x69\142\165\x74\145\x5f\147\x72\x6f\x75\160"); goto E3e; C2d: $af6 = ''; $B6 = 1; $Dbf = 0; $E6f = array(); foreach ($c7 as $A4) { goto aef; aef: $dbb = $A4["\156\141\155\145"]; if (!($af6 == '')) { goto f67; } $af6 = $d89; f67: if (!in_array($af6 . $dbb, $E6f)) { goto dbd; } goto c85; ef1: $Af0[$af6] = $Dbf; goto fec; c55: $Dbf = $Af0[$af6]; if (isset($c3c[$Dbf])) { goto fe7; } goto ab1; dbf: goto Da0; b78: xlog("\74\146\x6f\x6e\164\40\x63\157\x6c\157\x72\75\x27\x67\162\145\171\47\x3e\103\x72\x65\141\164\151\x6e\x67\x20\x61\x74\164\x72\151\x62\165\164\x65\x20\x67\162\x6f\x75\160\40\x3c\x62\76{$dbb}\x3c\x2f\x62\76\x3c\57\x66\157\156\164\76"); $Dbf = cF(array("\163\157\162\164\x5f\x6f\162\x64\x65\x72" => $z_order++, "\141\164\164\x72\151\142\x75\x74\x65\x5f\147\x72\157\x75\160\x5f\x64\x65\x73\x63\162\x69\x70\164\151\x6f\156" => $F61)); $d9 = query("\x53\105\114\105\103\x54\40\x6e\x61\155\145\x20\x46\x52\x4f\x4d\40\157\143\x5f\141\164\164\x72\151\x62\165\x74\145\x5f\x67\162\x6f\165\160\x5f\x64\x65\163\x63\x72\151\x70\164\151\x6f\156\40\x20\x57\x48\105\122\105\40\154\141\156\x67\x75\x61\x67\145\x5f\151\144\x3d" . g("\144\x65\146\141\165\x6c\164\x5f\154\141\156\147\137\151\144") . "\40\117\x52\x44\105\122\40\102\x59\40\141\164\164\x72\x69\x62\x75\x74\x65\x5f\147\x72\157\x75\x70\x5f\x69\x64\x20\x44\x45\x53\x43\x20\x4c\x49\115\111\124\40\61")->row["\156\141\x6d\x65"]; goto e9d; bdc: if (g("\151\x6e\x63\157\x6d\151\156\147\137\x6c\141\x6e\147\165\x61\x67\x65")) { goto A0d; } $bba = $dbb; goto F31; A0d: $bba = a3(bf($dbb, g("\x69\x6e\x63\157\155\151\156\147\137\154\x61\x6e\147\165\141\147\x65"), g("\x64\x65\x66\x61\x75\154\164\137\154\141\156\147"))); goto A9d; e6b: if (!($af6 != '')) { goto cd4; } if (isset($Af0[$af6])) { goto c55; } $F61 = F9($dbb, "\156\141\x6d\145"); if (!g("\163\x6b\151\x70")) { goto b78; } $Dbf = rand(10000, 100000); goto dbf; f91: foreach ($c3c[$Dbf] as $F9 => $A4) { if (!($A4["\156\x61\x6d\145"] == $bba || A3($A4["\x6e\141\155\145"]) == $bba)) { goto Ffe; } $C24 = $A4["\x61\x74\164\x72\x69\142\165\164\x65\x5f\151\144"]; Ffe: A9e: } Fef: F59: if (!($C24 == 0)) { goto ab5; } $F2b = F9($dbb, "\156\141\x6d\x65"); goto Cc9; eb1: $C24 = FD(array("\141\x74\x74\x72\x69\142\x75\x74\145\137\147\x72\x6f\165\160\137\x69\x64" => $Dbf, "\x73\x6f\162\164\137\157\x72\x64\x65\x72" => 10 * $B6, "\141\x74\164\162\151\x62\x75\x74\x65\137\144\x65\x73\143\x72\x69\160\164\x69\157\x6e" => $F2b)); $c3c[$Dbf][] = array("\156\141\x6d\145" => $bba, "\141\164\164\162\151\142\165\x74\145\137\x69\144" => $C24); $d9 = query("\x53\105\114\105\103\124\40\x6e\141\155\x65\x20\106\122\x4f\x4d\40\157\x63\137\141\x74\164\x72\151\x62\165\164\x65\x5f\x64\x65\163\x63\162\151\x70\164\x69\x6f\156\x20\x57\x48\x45\x52\105\x20\154\141\156\147\x75\141\147\x65\137\x69\x64\75" . g("\x64\145\x66\141\x75\154\x74\137\x6c\x61\x6e\147\x5f\x69\x64") . "\x20\117\122\104\105\122\x20\102\x59\40\141\164\x74\x72\x69\x62\165\164\145\137\151\144\40\x44\x45\x53\x43\x20\114\x49\115\111\124\x20\61")->row["\x6e\x61\x6d\x65"]; if (!($bba != $d9)) { goto f9c; } xlog("\127\101\x52\x4e\x49\x4e\107\72\40\x43\162\x65\141\164\145\x64\40\141\164\164\162\151\x62\x75\x74\145\x20\x73\x61\166\x65\x20\x6e\x61\155\x65\40\155\151\163\155\141\x74\143\x68\x3a\40\x27{$bba}\x27\x20\55\x3e\x20\x27{$d9}\x27"); goto F95; E25: if ($Dbf) { goto Fc4; } $cfd = ''; if (empty($Af0[$cfd])) { goto D9d; } $Dbf = $Af0[$cfd]; goto fdf; goto Aac; ab1: $c3c[$Dbf] = F2("\155\157\144\145\154\137\143\141\x74\x61\154\x6f\x67\x5f\141\x74\164\x72\x69\x62\x75\164\x65")->getAttributes(array("\146\x69\154\x74\145\162\x5f\x61\x74\x74\162\151\x62\165\x74\x65\137\147\162\157\165\160\137\151\144" => $Dbf)); fe7: fec: cd4: if (!($E48 != $F5)) { goto A8f; } goto E25; b88: $c3c[$Dbf] = f2("\155\x6f\144\145\154\x5f\x63\x61\164\x61\154\x6f\147\137\141\164\x74\162\151\x62\165\x74\x65")->getAttributes(array("\146\151\x6c\x74\145\x72\x5f\x61\x74\x74\162\151\x62\x75\x74\x65\x5f\147\x72\157\x75\x70\x5f\151\x64" => $Dbf)); a0c: Fc4: $C24 = 0; if (!(count($c3c[$Dbf]) > 0)) { goto F59; } goto f91; Ad0: $e34 = F9($E48, "\x74\145\x78\x74"); $D83[] = array("\x6e\141\155\x65" => $bba, "\141\164\164\x72\x69\142\165\x74\145\x5f\151\x64" => $C24, "\160\162\157\x64\x75\143\x74\x5f\141\164\x74\162\151\x62\x75\164\145\x5f\144\x65\x73\x63\162\151\x70\164\x69\x6f\x6e" => $e34); A8f: A05: goto C64; c85: goto A05; dbd: if (!($A4["\x76\141\154\x75\145"] != $F5)) { goto d20; } $E6f[] = $af6 . $dbb; d20: goto bdc; e9d: if (!($af6 != $d9)) { goto C32; } xlog("\127\101\122\x4e\x49\x4e\x47\72\40\103\x72\145\x61\164\145\x64\x20\x61\164\x74\x72\x69\x62\x75\164\x65\40\x67\162\157\165\160\x20\x73\x61\x76\145\x20\156\x61\x6d\145\40\x6d\x69\x73\x6d\x61\164\143\150\72\40\47{$af6}\x27\40\x2d\x3e\40\x27{$d9}\x27"); C32: Da0: $c3c[$Dbf] = array(); goto ef1; F95: f9c: query("\101\x4c\124\x45\122\x20\124\101\102\114\x45\40\157\143\137\x61\164\x74\162\151\142\x75\164\145\137\144\x65\163\143\162\x69\160\164\151\157\156\x20\115\117\x44\x49\106\131\x20\156\141\155\145\40\126\101\x52\103\110\x41\122\x28\62\x30\64\x38\x29\40\103\x48\x41\122\x41\x43\x54\x45\x52\x20\123\105\x54\40\x75\x74\146\70"); c37: $B6 += 1; ab5: goto Ad0; Cc9: if (!g("\163\153\151\x70")) { goto F33; } $C24 = rand(10000, 100000); goto c37; F33: xlog("\x3c\x66\157\x6e\x74\x20\x63\x6f\154\157\x72\x3d\x27\x67\x72\x65\x79\47\76\103\x72\x65\x61\x74\x69\x6e\147\40\74\x62\76{$dbb}\x3c\x2f\142\76\x20\141\x74\164\162\151\x62\165\x74\x65\x2e\x2e\56\x3c\57\146\157\x6e\164\x3e"); goto eb1; Aac: D9d: xlog("\74\146\157\156\164\40\143\157\154\x6f\162\75\x27\147\162\145\171\x27\x3e\x43\x72\x65\x61\164\151\x6e\x67\x20\x64\145\x66\141\165\x6c\x74\40\141\164\x74\162\151\142\165\x74\x65\40\x67\x72\157\x75\160\74\57\x66\157\156\164\x3e"); $Dbf = CF(array("\x73\157\x72\x74\x5f\x6f\162\144\x65\x72" => -1, "\x61\x74\x74\162\151\142\x75\x74\145\137\x67\162\157\x75\160\x5f\144\x65\163\143\162\x69\x70\x74\x69\157\156" => f9($cfd, "\x6e\x61\155\145"))); fdf: if (isset($c3c[$Dbf])) { goto a0c; } goto b88; A9d: F31: $E48 = $A4["\x76\141\x6c\x75\145"]; if (!($bba != '' and $E48 == $F5)) { goto cd2; } $af6 = $bba; cd2: goto e6b; C64: } goto b80; e52: $C8 = array_keys($attributes); if (!(!is_numeric(reset($C8)) and !is_array(reset($attributes)))) { goto a44; } foreach ($attributes as $name => $A4) { $c7[] = $name; $c7[] = $A4; D56: } Ad9: $attributes = $c7; goto F0c; F69: fc5: foreach (array_keys($attributes) as $Ef) { goto f52; c05: ebc: goto ee0; E62: foreach ($attributes[$Ef] as $A4) { $c7[] = $A4; b7b: } d80: goto E33; f52: $c7[] = $Ef; $c7[] = $F5; $f1 = array_keys($attributes[$Ef]); if (is_numeric(reset($f1))) { goto E62; } foreach ($attributes[$Ef] as $Ee => $A4) { if (trim($Ee)) { goto e6f; } goto b07; e6f: $c7[] = $Ee; $c7[] = $A4; b07: } goto c05; E33: ee0: e07: goto D7a; D7a: } e68: bc8: $Bf = true; goto E01; b80: A36: e30: return $D83; goto dc1; E80: $attributes = g("\x61\164\x74\162\x69\142\165\164\145\163"); if (!empty($attributes)) { goto a6c; } return array(); a6c: $c7 = array(); goto e52; dc1: } function is_image($fb8) { return strpos($fb8, "\x3a\x2f\57") || substr($fb8, 0, 5) == "\x64\x61\164\141\57"; } function sort_options() { goto C93; a07: foreach ($options as $Be4) { $E52[$Be4["\x6e\x61\155\145"]] = $Be4; a2c: } b71: ksort($E52); $df5 = 0; foreach ($E52 as $Be4) { if ($Be4["\163\157\162\x74\137\157\162\x64\x65\162"] <= $df5) { goto Ae4; } $df5 = $Be4["\x73\157\x72\x74\x5f\157\x72\x64\x65\x72"]; goto b30; Ae4: $df5 += 1; query("\x55\x50\x44\x41\x54\x45\x20" . DB_PREFIX . "\157\x70\x74\151\x6f\x6e\x5f\166\x61\x6c\x75\x65\x20\123\x45\x54\x20\x73\x6f\162\x74\137\x6f\x72\144\145\162\x3d{$df5}\x20\127\110\x45\122\x45\40\x6f\x70\x74\x69\157\x6e\137\x76\x61\154\x75\x65\137\x69\x64\x3d" . $Be4["\x6f\x70\164\x69\157\x6e\x5f\166\141\154\165\x65\137\151\x64"]); b30: E8b: } goto C35; C35: D06: goto Cc5; C93: global $Ca; $options = query("\x53\105\114\x45\103\124\40\52\x20\x46\122\117\115\x20" . DB_PREFIX . "\157\160\164\x69\x6f\x6e\x5f\166\x61\x6c\x75\x65\40\157\x20\112\117\x49\x4e\x20" . DB_PREFIX . "\157\160\x74\x69\x6f\x6e\137\166\141\x6c\x75\x65\137\144\145\163\x63\x72\x69\x70\164\151\x6f\x6e\x20\157\144\40\x4f\116\40\157\x2e\x6f\x70\x74\151\x6f\156\x5f\166\141\x6c\x75\x65\x5f\x69\144\x20\x3d\x20\157\144\x2e\x6f\x70\x74\151\x6f\x6e\x5f\x76\141\154\x75\x65\x5f\x69\144\40\x57\x48\x45\122\x45\40\154\141\156\147\165\x61\147\x65\x5f\x69\144\40\75\x20" . $Ca->get("\143\x6f\156\x66\x69\147\x5f\154\x61\156\x67\x75\x61\x67\145\137\151\144"))->rows; if ($options) { goto Fda; } return; Fda: goto a07; Cc5: } goto B25; Eff: function GetManufacturers() { f2("\154\x6f\141\144")->model("\143\x61\164\x61\154\x6f\x67\57\155\x61\x6e\165\146\x61\x63\x74\x75\x72\145\162"); $A7 = F2("\x6d\157\144\x65\x6c\x5f\x63\141\164\x61\x6c\157\x67\x5f\155\141\x6e\165\x66\141\x63\x74\x75\x72\x65\162")->getManufacturers(); foreach ($A7 as $af => $Af4) { $A7[$af]["\x6e\x61\155\x65"] = html_entity_decode($Af4["\156\141\x6d\x65"]); dd9: } F79: return $A7; } function escape($B6) { global $db; return $db->escape($B6); } function f2($Fe4) { global $registry; return $registry->get($Fe4); } define("\x62\64", file_exists("\x2e\56\57\56\x2e\x2f\x76\x71\x6d\157\x64\x2f\x76\x71\x6d\x6f\144\x2e\x70\150\160")); if (defined("\146\165\154\x6c\x5f\160\154\141\x74\x66\157\x72\x6d\x5f\x6c\x6f\141\x64")) { goto F0e; } goto Fca; a96: $registry->set("\x65\x76\145\156\x74", $event); $Ac6 = $db->query("\x53\105\x4c\105\x43\124\40\x2a\x20\106\122\x4f\x4d\40" . DB_PREFIX . "\x65\x76\x65\x6e\x74"); foreach ($Ac6->rows as $e0) { $event->register($e0["\164\162\x69\x67\x67\145\162"], $e0["\141\143\164\151\x6f\x6e"]); B8b: } E12: c76: goto e19; Afe: $registry->set("\x6c\x6f\147", $log); $request = new Request(); $registry->set("\x72\145\x71\165\x65\x73\164", $request); $response = new Response(); $response->addHeader("\x43\x6f\156\164\x65\156\164\x2d\124\171\x70\145\x3a\x20\x74\145\x78\164\x2f\x68\164\155\x6c\73\x20\143\x68\141\x72\163\x65\164\x3d\x75\164\x66\55\70"); goto Cb7; A8a: function take_attribute($name) { $A7 = attribute($name); Bc($name); return re($A7); } function cE(&$ab, $name) { $da = true; $C0 = false; foreach ($ab as $F9 => $A4) { if (!($da and trim(str_replace("\72", '', $A4)) == $name)) { goto a93; } $C0 = true; unset($ab[$F9]); a93: if (!(!$da and $C0)) { goto F90; } $C0 = false; unset($ab[$F9]); F90: $da = !$da; deb: } dd7: } function BC($name, $F7 = '') { goto e85; d16: goto Baa; b7e: ce($c7, $name); Baa: return $c7; goto Ac7; e85: global $attributes; if (!$F7) { goto Acc; } $c7 =& $F7; goto efa; Acc: goto F58; F58: $c7 =& $attributes; efa: if (!is_array(reset($c7))) { goto b7e; } foreach ($c7 as &$ab) { CE($ab, $name); c29: } E51: goto d16; Ac7: } function a6($D3) { goto A26; A26: static $Fb; if ($Fb) { goto f19; } F2("\x6c\x6f\x61\144")->model("\x63\141\x74\141\x6c\157\x67\57\143\141\164\145\147\157\x72\x79"); $Fb = true; f19: goto f8b; Dad: if (!$D3["\x6b\x65\x79\167\157\162\x64"]) { goto B37; } query("\x49\116\x53\105\122\x54\x20\x49\x4e\x54\x4f\40\x6f\x63\x5f\x75\x72\154\x5f\x61\154\151\141\x73\x20\123\105\x54\40\x71\x75\x65\162\x79\x20\75\40\47\143\x61\164\x65\x67\157\x72\x79\137\151\144\75{$id}\47\x2c\40\x6b\145\x79\167\157\162\144\x20\x3d\x20\x27" . escape($D3["\153\x65\171\x77\157\162\x64"]) . "\x27"); B37: E26: goto fc8; f8b: @f2("\155\157\144\145\154\137\x63\x61\164\x61\x6c\157\147\137\143\x61\x74\145\147\x6f\x72\x79")->addCategory($D3); $id = ad("\x63\x61\164\145\x67\x6f\162\171"); $A7 = query("\123\x45\114\x45\x43\x54\40\x2a\x20\106\x52\x4f\x4d\40" . DB_PREFIX . "\x75\x72\154\137\x61\154\151\141\163\40\127\110\x45\x52\x45\40\x71\165\145\x72\x79\75\47\143\141\x74\145\x67\157\x72\x79\x5f\151\144\75{$id}\47")->num_rows; if (!($A7 > 1)) { goto E26; } query("\104\105\114\x45\124\105\x20\106\122\x4f\115\x20" . DB_PREFIX . "\165\x72\154\137\141\154\x69\141\163\40\127\x48\x45\x52\105\40\161\165\x65\x72\x79\75\47\x63\141\x74\x65\147\x6f\162\171\x5f\151\144\75{$id}\47"); goto Dad; fc8: } function Af($name, $cb = true) { goto A4a; b91: if (!($Bf = strrpos($name, "\x20\x3e\x20"))) { goto B6a; } $C3 = substr($name, $Bf + 3); B6a: $c4 = $name; $name = str_replace("\x20\76\40", "\40\46\x67\164\73\40", $name); goto A42; Cd8: B0($category_description, "\x64\x65\x73\x63\162\151\x70\164\x69\157\x6e", $a7); b0($category_seo_title, "\x73\145\x6f\137\164\x69\164\x6c\145", $a7); $ff = $category_seo_title; if ($ff) { goto c32; } $ff = $C3; goto Adc; A42: $name = A3($name); global $a2; $id = 0; foreach ($a2 as $b0) { if (!(upcase(trim($name)) == upcase(str_replace("\47", "\46\43\x30\x33\x39\73", trim($b0["\146\165\x6c\x6c\x6e\141\155\145"]))))) { goto d1b; } $id = (int) $b0["\x63\141\x74\x65\x67\x6f\162\171\137\x69\x64"]; goto A80; d1b: Fbf: } A80: goto F34; Adc: c32: F9($ff, "\x6d\145\164\x61\137\x74\151\x74\x6c\x65", $a7); b0($category_seo_h1, "\163\145\x6f\x5f\150\61", $a7); b0($category_seo_h1, "\155\145\164\x61\137\x68\61", $a7); $dc = get_image($category_image); goto F80; F80: $seo_url = $category_seo_url; a5a: $incoming_language = $f4; if ($seo_url) { goto f37; } $seo_url = $C3; goto aa7; C16: $name = str_replace("\x20\40", "\40", $name); if (!g("\x72\145\160\x6c\x61\143\145\x5f\143\x61\164\145\147\157\x72\x69\x65\163")) { goto C4f; } $name = replace('', '', $name); C4f: $C3 = $name; goto b91; A4a: if (trim($name)) { goto d8b; } return 0; d8b: $name = str_replace("\x20\46\x67\164\x3b\40", "\x20\x3e\40", $name); $name = str_replace("\40\40", "\40", $name); goto C16; A39: B0('', "\144\145\163\x63\x72\151\160\164\151\157\x6e", $a7); B0('', "\163\145\x6f\x5f\x74\x69\x74\154\x65", $a7); B0('', "\163\x65\x6f\137\x68\61", $a7); B0('', "\155\x65\x74\x61\137\164\151\x74\x6c\145", $a7); B0('', "\155\145\164\x61\x5f\x68\x31", $a7); goto C10; A70: Abd: $a2 = GetCategories(); return $id; goto Bed; F34: if (!$id) { goto d02; } return $id; d02: $D8 = 0; if (!($Bf = strrpos($c4, "\40\x3e\x20"))) { goto eb9; } goto f23; c7b: xnotice("\101\144\144\x69\x6e\x67\40\74\x62\76{$name}\74\x2f\142\76\40\x63\141\164\x65\147\157\162\171\x2e\x2e\x2e"); $a7 = f9($C3, "\x6e\x61\155\145"); if ($cb) { goto fbb; } F9('', "\155\145\x74\x61\x5f\x6b\145\171\167\x6f\x72\144", $a7); f9('', "\155\145\x74\141\137\x64\x65\163\143\x72\x69\x70\x74\x69\x6f\x6e", $a7); goto A39; C10: $dc = ''; $seo_url = false; goto a5a; fbb: global $category_description, $category_meta_keyword, $category_meta_description, $category_image, $category_seo_url, $category_seo_title, $category_seo_h1; goto B9a; B9a: if (!g("\x64\145\x73\x63\162\x69\160\x74\151\157\x6e\x5f\x69\155\x61\x67\145\x73")) { goto fd4; } $category_description = get_html_images($category_description); fd4: F9($category_meta_keyword, "\x6d\x65\x74\x61\x5f\153\x65\171\x77\157\162\144", $a7); F9($category_meta_description, "\155\145\x74\x61\x5f\144\145\163\x63\162\151\160\164\151\157\156", $a7); goto Cd8; aa7: f37: $seo_url = translit($seo_url); c2($seo_url); a6(array("\x70\141\162\x65\156\x74\x5f\151\144" => $D8, "\x63\157\x6c\165\x6d\156" => "\x31", "\x74\x6f\x70" => g("\x74\x6f\x70"), "\x69\x6d\x61\147\145" => $dc, "\153\145\x79\167\157\x72\x64" => $seo_url, "\x73\157\x72\164\x5f\157\162\144\x65\x72" => '', "\163\x74\141\x74\165\x73" => 1, "\143\x61\164\145\147\x6f\x72\x79\137\x64\145\x73\143\162\x69\x70\164\151\x6f\x6e" => $a7, "\x63\141\x74\x65\x67\x6f\162\x79\137\163\164\157\162\145" => array(0))); unset($GLOBALS["\x63\141\164\x65\147\x6f\162\x79\x5f\163\x65\x6f\x5f\165\x72\154"]); goto f66; f66: global $db; $id = Ad("\143\141\164\145\147\157\162\171"); $d9 = query("\x53\x45\x4c\105\x43\x54\40\x6e\141\x6d\x65\40\x46\122\x4f\115\40\157\143\x5f\x63\x61\x74\145\x67\157\x72\x79\x5f\x64\x65\x73\143\x72\151\160\x74\151\x6f\x6e\40\127\x48\x45\122\x45\40\143\x61\164\x65\x67\157\x72\171\x5f\x69\x64\x3d{$id}\40\101\116\x44\x20\154\141\156\147\165\x61\147\x65\x5f\151\x64\x3d" . g("\x64\x65\146\141\x75\154\164\137\x6c\141\156\147\x5f\x69\x64"))->row["\156\x61\155\145"]; if (!(a3($C3) != $d9)) { goto Abd; } xlog("\x57\101\122\116\111\116\x47\72\x20\103\162\145\141\164\x65\144\40\143\141\x74\x65\x67\157\162\171\40\163\x61\166\145\x20\156\141\x6d\x65\40\155\x69\x73\x6d\141\164\x63\150\72\40\x27{$C3}\47\x20\55\76\x20\47{$d9}\x27"); goto A70; f23: $D8 = AF(substr($c4, 0, $Bf), false); eb9: global $incoming_language; $f4 = $incoming_language; $incoming_language = false; goto c7b; Bed: } goto ef3; e0c: if (!$Ca->get("\x73\145\x73\163\151\157\x6e\x5f\141\165\164\x6f\x73\164\x61\x72\x74")) { goto B15; } $session->start(); B15: $registry->set("\163\145\x73\x73\151\157\x6e", $session); $registry->set("\143\141\143\x68\145", new Cache($Ca->get("\x63\x61\x63\x68\145\137\x74\171\x70\x65"), $Ca->get("\x63\x61\x63\150\145\137\x65\170\160\151\162\145"))); goto B35; B54: $registry->set("\143\157\156\x66\151\147", $Ca); $event = new Event($registry); $registry->set("\145\x76\145\x6e\164", $event); if (!$Ca->has("\x61\143\x74\x69\x6f\x6e\x5f\x65\x76\x65\x6e\164")) { goto dff; } foreach ($Ca->get("\141\143\164\x69\x6f\156\137\x65\166\145\x6e\164") as $Ef => $A4) { $event->register($Ef, new Action($A4)); d15: } goto b52; Fe0: if (!(count($languages) > 0)) { goto Bf7; } $B4c = $Ca->get("\143\x6f\x6e\146\151\147\137\x6c\141\x6e\147\x75\141\147\x65\x5f\151\144"); if ($B4c) { goto C60; } $B4c = $Ca->get("\x63\157\x6e\x66\151\x67\137\141\144\155\151\x6e\x5f\154\141\x6e\x67\x75\x61\x67\x65"); C60: goto f47; b5c: goto d6a; B86: require_once "\x2e\56\57\56\x2e\x2f\166\161\155\157\144\x2f\x76\x71\x6d\x6f\x64\56\x70\x68\160"; if (method_exists("\126\x51\115\x6f\x64", "\x62\157\157\164\x75\160")) { goto f0a; } $vqmod = new VQMod(); goto C5f; d51: F0e: if (VERSION >= "\x32\56\x32") { goto E21; } if (b4) { goto B86; } require_once DIR_SYSTEM . "\x73\x74\141\162\164\165\x70\56\x70\150\x70"; if (Db) { goto d7b; } goto cfb; B35: if (!$Ca->get("\x75\162\154\x5f\x61\165\164\x6f\163\164\x61\162\x74")) { goto Ed3; } $registry->set("\x75\x72\x6c", new Url($Ca->get("\163\151\164\145\137\x62\x61\x73\145"), $Ca->get("\163\151\164\x65\x5f\163\x73\154"))); Ed3: $language = new Language($Ca->get("\154\141\156\147\x75\141\147\x65\x5f\x64\145\x66\x61\165\154\x74")); $language->load($Ca->get("\x6c\141\156\x67\165\x61\147\145\137\x64\x65\x66\141\165\154\164")); goto Be6; C94: if (!$Ca->has("\154\x69\x62\x72\141\x72\171\x5f\x61\165\164\x6f\154\x6f\141\x64")) { goto ffe; } foreach ($Ca->get("\x6c\x69\142\162\141\x72\x79\137\141\165\x74\x6f\x6c\157\141\144") as $A4) { $loader->library($A4); C50: } Fce: ffe: if (!$Ca->has("\x6d\x6f\x64\x65\154\137\141\165\164\x6f\154\x6f\141\x64")) { goto Ed2; } goto ab3; B83: $languages = array(); $Ac6 = $db->query("\x53\x45\114\105\103\124\40\x2a\40\x46\122\117\115\40" . DB_PREFIX . "\x6c\141\x6e\147\x75\x61\x67\x65"); foreach ($Ac6->rows as $e0) { $languages[$e0["\x63\157\x64\x65"]] = $e0; e16: } A44: $loader->controller("\x73\164\141\162\x74\165\x70\57\x73\164\x61\162\x74\165\x70"); goto C4e; Fc3: function b9($product_id, $product, $A31, $c47) { goto e0d; Fd6: if (!($f63 > 0 && $product["\x6d\x61\x69\x6e\137\x63\141\164\145\147\x6f\162\171\x5f\151\144"] != $Bf["\155\141\151\156\x5f\143\x61\x74\x65\147\157\162\x79\137\151\144"])) { goto C45; } $D6 .= "\x2c\x20\x6d\x61\x69\156\137\143\141\164\145\x67\x6f\x72\x79\137\151\144\40\x3d\40\47" . $product["\155\141\151\x6e\137\x63\141\x74\145\147\x6f\162\171\137\151\144"] . "\47"; C45: query("\x44\105\x4c\x45\124\x45\x20\106\x52\x4f\115\x20\157\143\x5f\160\162\x6f\144\x75\143\x74\137\164\x6f\137\143\x61\x74\145\x67\x6f\x72\x79\40\x57\110\105\122\x45\x20\x70\162\157\144\x75\143\164\137\x69\144\40\75\x20\47" . (int) $product_id . "\x27"); if (!isset($product["\x70\162\157\144\x75\x63\x74\137\143\141\164\145\147\157\x72\x79"])) { goto Da8; } goto E39; a40: foreach ($A31 as $c86) { goto D41; d5d: B82: ff0: goto A82; B58: $c5c = $db->getLastId(); if (!isset($c86["\160\x72\157\x64\165\143\x74\137\x6f\160\164\x69\x6f\x6e\x5f\166\141\x6c\x75\145"])) { goto ad8; } foreach ($c86["\160\162\x6f\144\x75\143\x74\137\157\160\164\151\x6f\x6e\137\166\x61\x6c\165\x65"] as $C9c) { query("\x49\x4e\x53\105\x52\x54\x20\x49\116\x54\117\40\157\143\137\x70\162\x6f\x64\x75\143\x74\137\x6f\160\x74\x69\x6f\156\x5f\x76\141\154\x75\x65\40\x53\x45\x54\40\160\x72\157\144\x75\x63\164\137\157\x70\x74\151\157\x6e\x5f\151\144\40\x3d\40\x27" . (int) $c5c . "\47\54\x20\x70\162\x6f\x64\x75\x63\x74\137\151\144\40\x3d\x20\x27" . (int) $product_id . "\47\x2c\40\x6f\x70\164\151\157\156\x5f\151\x64\x20\x3d\x20\x27" . (int) $c86["\x6f\160\x74\x69\157\x6e\137\x69\144"] . "\x27\x2c\x20\x6f\160\x74\x69\x6f\156\137\x76\x61\x6c\165\145\137\151\144\40\x3d\x20\47" . (int) $C9c["\157\x70\164\x69\157\x6e\137\x76\x61\154\165\145\x5f\151\144"] . "\47\54\40\x71\165\141\x6e\x74\151\x74\x79\40\x3d\x20\x27" . (int) $C9c["\161\165\141\x6e\x74\x69\x74\171"] . "\47\x2c\40\163\x75\x62\164\x72\x61\143\x74\x20\75\40\47" . (int) $C9c["\163\165\142\164\x72\x61\143\x74"] . "\x27\x2c\x20\160\x72\x69\143\x65\40\75\x20\x27" . (double) $C9c["\160\x72\x69\x63\145"] . "\x27\x2c\40\x70\162\151\x63\x65\x5f\x70\162\145\x66\x69\170\40\x3d\x20\x27" . escape($C9c["\x70\162\151\x63\145\x5f\160\162\x65\x66\x69\170"]) . "\47\x2c\40\x70\x6f\151\156\x74\x73\x20\x3d\x20\47" . (int) $C9c["\x70\157\x69\156\x74\163"] . "\x27\x2c\40\160\157\151\x6e\164\163\x5f\x70\162\145\146\151\x78\40\75\40\47" . escape($C9c["\160\x6f\x69\156\164\163\x5f\160\x72\x65\x66\151\170"]) . "\47\54\x20\167\145\151\147\150\164\40\x3d\40\47" . (double) $C9c["\167\145\x69\x67\150\x74"] . "\47\54\40\x77\145\x69\x67\150\164\137\160\x72\145\x66\151\170\40\75\x20\x27" . escape($C9c["\x77\x65\x69\147\x68\x74\137\x70\162\145\x66\151\170"]) . "\x27"); Cd9: } ec6: ad8: goto d5d; D41: if ($c86["\164\171\x70\x65"] == "\x73\145\154\145\x63\x74" || $c86["\164\x79\x70\145"] == "\162\141\x64\x69\157" || $c86["\x74\171\x70\x65"] == "\143\150\145\x63\x6b\x62\157\170" || $c86["\164\x79\x70\145"] == "\151\155\x61\x67\145") { goto bf3; } query("\111\x4e\x53\105\122\124\40\111\116\124\117\40\x6f\x63\x5f\160\162\157\x64\165\x63\x74\x5f\157\160\164\x69\157\156\40\x53\105\x54\x20\40\x70\162\157\144\x75\143\164\137\151\x64\x20\x3d\40\x27" . (int) $product_id . "\x27\54\40\157\x70\164\151\x6f\156\137\151\144\x20\x3d\x20\x27" . (int) $c86["\x6f\x70\x74\x69\x6f\156\x5f\151\x64"] . "\47\x2c\40\x6f\160\x74\151\x6f\x6e\137\166\x61\154\165\x65\x20\75\x20\x27" . escape($c86["\x6f\x70\x74\151\x6f\156\137\x76\x61\154\165\x65"]) . "\x27\x2c\40\x72\x65\x71\x75\x69\162\145\x64\x20\75\x20\x27" . (int) $c86["\162\x65\x71\165\x69\162\145\x64"] . "\47"); goto B82; bf3: query("\x49\116\123\105\122\124\x20\111\116\124\117\x20\x6f\x63\137\160\x72\157\144\x75\x63\164\x5f\x6f\160\x74\x69\x6f\x6e\x20\x53\x45\124\x20\40\x70\x72\157\144\165\x63\164\137\x69\144\x20\x3d\x20\47" . (int) $product_id . "\47\x2c\40\x6f\x70\x74\151\x6f\156\x5f\x69\x64\40\x3d\40\x27" . (int) $c86["\157\160\x74\151\157\156\137\151\144"] . "\x27\x2c\x20\162\x65\x71\165\151\162\x65\x64\x20\75\40\47" . (int) $c86["\162\145\161\165\151\x72\145\x64"] . "\47"); goto B58; A82: } c3e: if (!g("\x72\145\x6c\x61\x74\x65\x64\137\x6f\160\164\151\157\x6e\163")) { goto d06; } f2("\154\x6f\141\x64")->model("\x6d\157\144\165\154\x65\x2f\162\145\154\141\x74\x65\x64\x5f\x6f\x70\x74\x69\x6f\156\x73"); f2("\x6d\157\144\x65\x6c\137\x6d\x6f\x64\x75\154\x65\137\x72\145\154\x61\x74\145\144\137\157\x70\164\x69\157\x6e\x73")->editRelatedOptions($product_id, g("\162\x65\x6c\141\x74\145\144\137\157\x70\x74\151\x6f\156\x73\137\x64\141\164\141")); goto Ced; Ef4: goto D57; C2f: $e0e = $d44["\x70\162\x69\143\x65"]; D57: if (!($e0e != $product["\156\x65\167\x5f\160\x72\x69\x63\145"])) { goto B52; } goto b72; C62: if (!g("\165\160\x64\141\x74\x65\137\162\145\x6c\141\164\x65\144")) { goto dca; } if (!isset($D3["\x70\162\157\x64\x75\143\x74\x5f\x72\145\154\x61\164\145\144"])) { goto da3; } foreach ($D3["\x70\162\157\x64\x75\x63\x74\137\162\145\x6c\x61\164\x65\x64"] as $A8e) { query("\x44\x45\x4c\x45\x54\105\40\106\122\117\x4d\40\157\143\x5f\x70\162\157\144\x75\x63\x74\x5f\x72\145\154\141\164\145\144\40\x57\110\105\122\105\40\160\162\x6f\144\x75\x63\164\137\x69\144\x20\x3d\40\x27" . (int) $product_id . "\47\40\x41\x4e\x44\40\162\x65\x6c\141\164\x65\x64\137\151\144\40\75\40\x27" . (int) $A8e . "\x27"); query("\111\x4e\123\105\122\124\x20\x49\x4e\124\117\40\157\143\137\x70\x72\157\x64\x75\x63\164\x5f\x72\x65\154\x61\x74\145\144\40\123\105\x54\40\160\x72\157\144\x75\143\x74\137\x69\144\x20\75\x20\47" . (int) $product_id . "\x27\x2c\x20\x72\x65\x6c\141\164\145\x64\x5f\x69\x64\x20\x3d\40\x27" . (int) $A8e . "\x27"); query("\104\105\x4c\105\x54\x45\x20\x46\122\117\x4d\40\x6f\x63\137\x70\162\157\144\165\143\164\137\162\145\x6c\141\x74\145\x64\40\x57\110\105\122\x45\40\160\x72\x6f\x64\165\143\x74\x5f\151\144\x20\75\x20\x27" . (int) $A8e . "\x27\x20\101\116\104\x20\162\x65\154\x61\x74\x65\x64\137\x69\x64\40\x3d\x20\x27" . (int) $product_id . "\47"); query("\x49\116\123\105\122\124\x20\x49\x4e\124\x4f\40\x6f\143\x5f\x70\162\x6f\144\x75\x63\164\x5f\162\x65\154\x61\164\x65\144\40\x53\105\x54\40\160\162\157\144\165\143\164\137\x69\144\40\x3d\40\47" . (int) $A8e . "\x27\54\x20\162\145\154\141\x74\145\x64\137\x69\144\40\75\x20\47" . (int) $product_id . "\47"); c84: } ec0: da3: goto b79; d95: goto Eac; eb7: $B72 = 1; Eac: C69: goto Fd6; E39: foreach ($product["\x70\162\x6f\x64\x75\x63\x74\x5f\x63\141\164\x65\147\x6f\162\x79"] as $f7) { $d44 = "\x49\116\x53\105\x52\124\40\111\x4e\124\x4f\40\157\x63\x5f\160\162\x6f\x64\x75\143\164\137\x74\x6f\137\x63\141\164\145\147\157\162\171\40\x53\x45\124\x20\160\x72\x6f\x64\x75\143\x74\x5f\x69\x64\40\75\x20\x27" . (int) $product_id . "\47\54\40\143\x61\x74\145\147\157\x72\x79\137\x69\x64\40\x3d\40\x27" . (int) $f7 . "\x27"; if (!($B72 > 0 && $f7 == $product["\155\x61\x69\156\x5f\x63\141\x74\x65\x67\x6f\x72\x79\137\x69\x64"])) { goto Fa7; } $d44 .= "\x2c\x20\155\x61\151\x6e\x5f\x63\141\x74\x65\147\x6f\x72\x79\75\61"; Fa7: query($d44); db7: } Dcd: Da8: A27: $Dca = $D6 != $F98; goto Ad1; bff: $D6 .= CB("\167\x65\151\x67\150\x74", "\x66\154\x6f\x61\x74"); $D6 .= CB("\x77\145\151\x67\x68\x74\137\143\x6c\x61\x73\163\x5f\151\x64", "\151\x6e\x74"); $D6 .= Cb("\155\141\156\x75\x66\x61\x63\x74\x75\162\x65\162\137\151\x64", "\151\156\164"); $D6 .= Cb("\x6d\x6f\144\145\x6c"); $D6 .= Cb("\163\x6b\x75"); goto B8c; b79: dca: if (!g("\x75\x70\144\141\x74\x65\x5f\146\151\x6c\164\x65\162")) { goto f57; } global $filter; dC($product_id, a0($filter)); f57: goto b3d; a5b: $d44 = query("\x53\105\x4c\105\x43\x54\40\52\x20\x46\x52\x4f\x4d\40" . DB_PREFIX . "\160\162\157\x64\x75\x63\x74\x5f\141\164\x74\x72\x69\142\165\x74\145\40\x57\110\105\x52\105\40\160\162\x6f\x64\x75\143\x74\x5f\151\x64\40\75\40\x27" . (int) $product_id . "\47")->rows; $A66 = false; if (!isset($c47)) { goto A87; } foreach ($c47 as $fa1) { goto F72; b56: D5c: F2e: goto aca; F72: if (!$fa1["\141\164\x74\162\x69\142\165\x74\x65\x5f\x69\144"]) { goto D5c; } $C0 = false; foreach ($fa1["\x70\x72\157\x64\x75\143\x74\x5f\x61\x74\164\x72\151\x62\x75\164\145\137\144\145\163\x63\x72\x69\160\x74\x69\x6f\156"] as $C6 => $c63) { foreach ($d44 as $af => $a9) { if (!((int) $fa1["\141\164\x74\x72\151\x62\165\x74\145\x5f\151\144"] == $a9["\141\x74\164\x72\x69\x62\165\x74\145\x5f\151\144"] && $C6 == $a9["\x6c\141\x6e\x67\x75\141\147\x65\x5f\151\144"])) { goto b4c; } $C0 = true; if (!($c63["\x74\145\170\164"] != $a9["\164\x65\170\164"])) { goto db3; } $A66 = true; db3: unset($d44[$af]); goto Ab7; b4c: ad4: } Ab7: if (!$A66) { goto a45; } goto Ada; a45: B42: } Ada: if ($C0) { goto fb6; } goto bd2; bd2: $A66 = true; fb6: if (!$A66) { goto e81; } goto bf9; e81: goto b56; aca: } bf9: goto B63; fb9: static $B72; if ($B72) { goto C69; } $B72 = query("\x53\110\117\127\40\x43\117\114\x55\115\x4e\x53\40\x46\x52\117\x4d\x20" . DB_PREFIX . "\160\162\x6f\x64\x75\143\x74\x5f\x74\x6f\x5f\x63\x61\x74\145\x67\x6f\x72\x79\40\x4c\111\113\105\x20\x27\x6d\x61\x69\x6e\137\x63\141\x74\x65\147\157\162\x79\x27")->row; if ($B72) { goto eb7; } $B72 = -1; goto d95; B24: C2($product["\x6b\x65\x79\x77\x6f\162\144"]); query("\x49\x4e\123\x45\x52\124\x20\x49\x4e\x54\117\x20\x6f\x63\x5f\x75\162\154\137\141\154\151\x61\x73\40\123\105\x54\x20\x71\x75\145\162\171\x20\x3d\40\47\160\162\157\144\165\x63\164\x5f\x69\x64\75" . (int) $product_id . "\47\54\x20\x6b\145\x79\x77\157\162\144\x20\75\x20\x27" . escape($product["\153\145\x79\x77\157\x72\144"]) . "\47"); $adb[] = "\x3c\x62\x3e\123\x45\x4f\40\x55\x52\114\x3c\x2f\142\76\72\40{$e0e}\40\55\76\40{$product["\153\145\x79\167\157\x72\x64"]}"; d1c: F1d: goto Ad2; b72: $adb[] = "\x3c\x62\76\156\x65\x77\40\160\162\151\143\x65\x3c\x2f\x62\x3e\72\x20{$e0e}\x20\x2d\x3e\40{$product["\156\x65\x77\137\160\162\x69\143\x65"]}"; query("\104\105\x4c\105\124\105\40\106\x52\117\115\40" . DB_PREFIX . "\x70\x72\157\144\x75\143\164\137\163\160\x65\143\x69\x61\x6c\x20\x57\110\105\122\105\x20\160\x72\157\x64\165\143\164\x5f\x69\144\x3d" . $product_id); if (!$product["\x6e\x65\x77\x5f\160\x72\151\x63\x65"]) { goto d4d; } query("\x49\116\x53\x45\x52\x54\x20\x49\116\124\x4f\x20" . DB_PREFIX . "\160\162\x6f\x64\x75\x63\x74\137\163\x70\x65\x63\151\141\154\x20\x53\x45\x54\x20\160\162\157\144\x75\143\x74\137\x69\x64\x3d{$product_id}\54\40\x63\165\163\x74\x6f\155\145\x72\137\x67\x72\x6f\165\x70\137\x69\x64\75" . g("\156\x65\x77\x5f\x70\x72\151\x63\x65\x5f\147\x72\x6f\165\x70\137\x69\x64", 1) . "\54\40\x70\x72\x69\x6f\162\151\164\x79\x3d\61\54\x20\160\162\151\x63\145\x3d" . $product["\156\x65\167\x5f\x70\x72\151\x63\145"] . "\54\x20\144\x61\164\145\137\145\x6e\144\x3d\x27" . g("\x6e\x65\x77\137\x70\x72\x69\143\x65\x5f\145\x6e\144") . "\47"); d4d: goto f82; A31: static $f63; if ($f63) { goto A23; } $f63 = query("\x53\x48\x4f\x57\40\103\117\114\125\115\x4e\123\40\x46\122\x4f\115\40" . DB_PREFIX . "\x70\162\157\x64\x75\143\164\40\x4c\111\x4b\105\40\47\155\141\151\x6e\137\x63\x61\164\x65\147\x6f\162\x79\x5f\151\144\47")->row; if ($f63) { goto c8c; } $f63 = -1; goto Be1; a4a: $e0e = $d44["\153\145\x79\x77\x6f\162\x64"]; d52: if (!($product["\x6b\145\171\167\157\x72\144"] != $e0e)) { goto F1d; } query("\x44\105\x4c\105\x54\x45\x20\x46\122\x4f\115\x20\x6f\143\x5f\x75\x72\x6c\137\141\x6c\x69\141\163\40\x57\110\x45\x52\x45\40\161\x75\x65\162\x79\40\75\40\x27\160\x72\x6f\144\165\x63\164\137\151\x64\x3d" . (int) $product_id . "\x27"); if (!$product["\x6b\x65\x79\167\x6f\162\x64"]) { goto d1c; } goto B24; e80: e23: $adb[] = "{$d4e}\x20\x3c\142\76\151\155\x61\x67\x65\163\x3c\57\x62\x3e"; $D6 .= "\x2c\40\151\x6d\141\x67\145\x20\75\40\x27" . escape(html_entity_decode($product["\x69\x6d\141\x67\x65"], ENT_QUOTES, "\125\x54\106\55\x38")) . "\47"; query("\x44\105\x4c\x45\x54\105\x20\x46\122\x4f\115\40\x6f\x63\137\160\162\157\x64\165\143\x74\x5f\151\x6d\141\x67\x65\40\x57\110\x45\122\x45\40\160\162\x6f\144\165\x63\164\x5f\151\144\x20\75\40" . (int) $product_id); if (!isset($product["\x70\162\x6f\144\x75\143\x74\137\x69\155\x61\x67\145"])) { goto A60; } goto C2e; e7d: global $adb; $adb = array(); $D6 .= cb("\x71\x75\x61\156\x74\151\164\x79", "\x69\156\164"); global $update_weight_class_id; $update_weight_class_id = g("\x75\x70\x64\141\x74\x65\x5f\x77\x65\151\x67\150\x74"); goto bff; e51: bcc: ba8: c3c: Af9: $D3 =& $product; goto C62; Ced: d06: D93: c20: F04: if (!g("\165\160\x64\x61\164\x65\137\141\x74\x74\x72\x69\142\165\164\x65\163")) { goto Af9; } goto a5b; e0d: fe("\160\162\157\x64\x75\143\x74", $product_id); global $db; if (!(count($product["\160\162\x6f\144\165\x63\164\137\144\145\163\x63\x72\151\x70\x74\x69\157\x6e"]) > 0)) { goto c95; } foreach ($product["\160\162\157\x64\x75\x63\x74\137\x64\145\163\143\162\x69\x70\164\151\157\x6e"] as $C6 => $A4) { query("\125\x50\104\101\124\x45\40\157\x63\x5f\x70\x72\157\144\165\143\164\137\144\x65\163\143\162\x69\160\164\151\157\x6e\x20\123\x45\124\40\156\x61\155\145\40\75\x20\x27" . escape($A4["\156\141\155\145"]) . "\47\x2c\x20\155\145\x74\141\x5f\153\x65\171\x77\157\162\x64\40\75\40\x27" . escape($A4["\155\x65\164\x61\137\153\145\171\167\x6f\162\144"]) . "\x27\54\x20\x6d\145\x74\x61\x5f\x64\145\163\x63\162\x69\160\164\x69\157\x6e\40\x3d\x20\47" . escape($A4["\x6d\145\164\x61\x5f\x64\x65\x73\x63\162\151\160\x74\151\x6f\x6e"]) . "\47\54\40\144\x65\x73\x63\x72\x69\x70\x74\x69\x6f\x6e\40\75\x20\x27" . escape($A4["\x64\x65\163\x63\x72\151\160\x74\x69\x6f\156"]) . "\x27\x20\x77\150\x65\x72\145\40\x28\160\162\157\x64\165\143\164\x5f\151\144\40\x3d\40" . (int) $product_id . "\x29\40\141\x6e\144\40\50\x6c\x61\x6e\x67\x75\x61\147\145\x5f\151\x64\x20\x3d\x20" . (int) $C6 . "\x29"); Dc6: } a21: goto a29; a29: c95: $D6 = "\x55\x50\x44\x41\124\105\x20\157\x63\137\x70\162\157\x64\165\x63\164\x20\123\105\124\x20\x70\162\x6f\144\x75\x63\x74\137\151\144\40\x3d\x20" . (int) $product_id; $F98 = $D6; $Bf = query("\x53\x45\114\x45\x43\x54\40\52\40\x46\x52\117\x4d\x20" . DB_PREFIX . "\x70\162\157\144\x75\143\164\x20\x57\x48\x45\x52\x45\x20\160\162\157\144\x75\143\x74\137\151\x64\x20\75\40" . (int) $product_id)->row; if ($Bf) { goto Edb; } goto c80; cb0: $ea5 = 0; $d8d = 0; foreach ($A31 as $c86) { foreach ($d44 as $af => $a9) { goto cde; Aa7: if (isset($f26)) { goto D9f; } $f26 = query("\x53\105\114\105\x43\124\x20\52\x20\x46\x52\117\115\40\157\x63\x5f\160\162\x6f\x64\x75\x63\x74\137\157\x70\164\151\157\156\x5f\x76\141\x6c\x75\145\40\x57\x48\x45\x52\105\40\x70\x72\157\x64\165\x63\164\x5f\151\x64\40\x3d\x20\x27" . (int) $product_id . "\x27")->rows; D9f: if (!isset($c86["\160\162\157\x64\165\143\x74\x5f\157\x70\164\x69\x6f\156\x5f\166\141\x6c\165\145"])) { goto d37; } foreach ($c86["\160\162\157\144\165\x63\164\x5f\x6f\160\x74\151\157\x6e\137\166\141\154\165\145"] as $C9c) { $ea5++; foreach ($f26 as $f75 => $ad8) { if (!($ad8["\157\160\164\151\157\x6e\137\x76\x61\154\165\145\x5f\151\x64"] == $C9c["\157\x70\164\151\157\x6e\x5f\x76\x61\154\x75\x65\x5f\151\x64"])) { goto Ba0; } if (!((int) $ad8["\x71\165\x61\156\164\151\x74\x79"] != (int) $C9c["\161\165\141\156\x74\x69\x74\171"] || (int) $ad8["\x70\162\x69\x63\145"] != (int) $C9c["\x70\x72\151\143\x65"])) { goto Dca; } $A66 = true; goto bcf; Dca: unset($f26[$f75]); $d8d++; Ba0: A64: } bcf: f94: } goto fcd; fcd: Eae: d37: if (!$A66) { goto cb6; } goto Cbd; cb6: goto C79; cde: if (!($a9["\157\x70\164\x69\157\156\137\151\144"] == $c86["\x6f\x70\x74\151\157\156\x5f\151\x64"])) { goto Ef7; } if (!($a9["\x72\x65\x71\x75\x69\162\145\x64"] != $c86["\162\145\x71\165\x69\162\x65\x64"])) { goto F92; } $A66 = true; goto Cbd; F92: goto Aa7; C79: unset($d44[$af]); Ef7: fc1: goto a7a; a7a: } Cbd: bf7: } Bd2: if ($A66) { goto e36; } goto E82; bd1: $A66 = false; $d44 = query("\123\105\114\x45\103\x54\x20\x2a\x20\106\122\117\115\40\x6f\x63\x5f\x70\162\x6f\x64\x75\143\x74\137\157\x70\x74\x69\x6f\156\40\x57\x48\x45\122\105\40\x70\x72\x6f\x64\165\143\x74\x5f\151\144\x20\x3d\40\47" . (int) $product_id . "\x27")->rows; if (!($A31 and !$d44)) { goto A1a; } $A66 = true; A1a: goto cb0; C2e: foreach ($product["\160\x72\x6f\x64\165\x63\164\137\151\155\x61\x67\145"] as $C2d) { query("\x49\116\123\105\x52\124\x20\x49\116\x54\x4f\40\157\x63\137\x70\162\157\x64\x75\x63\x74\x5f\151\x6d\x61\x67\x65\40\123\x45\x54\40\x70\x72\x6f\x64\165\x63\164\x5f\x69\144\40\75\40\x27" . (int) $product_id . "\x27\54\x20\151\155\x61\x67\145\40\x3d\x20\x27" . escape(html_entity_decode($C2d["\x69\155\x61\x67\145"], ENT_QUOTES, "\x55\x54\x46\x2d\x38")) . "\x27\54\x20\x73\157\x72\164\x5f\157\162\144\x65\x72\40\x3d\40\47" . (int) $C2d["\x73\157\162\x74\137\x6f\x72\x64\x65\162"] . "\x27"); f21: } f60: A60: d9d: if (!g("\165\160\x64\141\x74\x65\x5f\x63\x61\x74\x65\147\157\x72\151\145\x73")) { goto A27; } goto A31; B8c: $D6 .= CB("\x6c\x6f\x63\x61\164\151\x6f\x6e"); $D6 .= cB("\163\164\141\x74\165\x73", "\x69\156\164"); $D6 .= cB("\x73\164\157\143\153\x5f\x73\x74\x61\164\165\163\x5f\151\x64", "\x69\x6e\x74"); $D6 .= cB("\x70\x72\151\143\x65", "\146\x6c\157\x61\164"); if (!g("\x75\160\144\x61\164\x65\x5f\x73\145\157\x5f\x75\162\154")) { goto e37; } goto Efa; E77: $adb[] = "\x3c\142\x3e\157\x70\x74\151\x6f\156\163\x3c\x2f\142\x3e"; $Dca = true; query("\104\x45\114\x45\x54\105\40\106\122\117\x4d\40\x6f\143\137\160\x72\157\x64\165\x63\164\x5f\157\x70\164\151\x6f\156\40\127\x48\105\122\x45\x20\x70\x72\157\144\165\x63\x74\137\151\144\x20\x3d\x20\x27" . (int) $product_id . "\x27"); query("\x44\105\x4c\x45\124\x45\40\x46\x52\x4f\115\x20\x6f\x63\137\x70\162\157\144\165\x63\164\x5f\x6f\x70\164\151\x6f\156\x5f\x76\x61\154\x75\x65\x20\x57\110\105\122\x45\x20\x70\162\157\144\x75\143\x74\137\x69\x64\x20\75\40\x27" . (int) $product_id . "\x27"); if (!isset($A31)) { goto D93; } goto a40; c80: return false; Edb: global $b1e, $ac3; $b1e = $Bf; $ac3 = $product; goto e7d; bd5: c77: if (!g("\x75\x70\x64\141\x74\145\x5f\151\x6d\x61\147\x65\163")) { goto d9d; } $d4e = @count($product["\160\x72\x6f\x64\x75\143\164\137\x69\155\141\x67\145"]); if (!$product["\151\x6d\x61\x67\145"]) { goto e23; } $d4e++; goto e80; E82: if (!($d44 or !empty($f26) || $ea5 != $d8d)) { goto fa6; } $A66 = true; fa6: e36: if (!$A66) { goto c20; } goto E77; B63: A87: if (!$d44) { goto b1d; } $A66 = true; b1d: if (!$A66) { goto c3c; } goto f48; Efa: $d44 = query("\123\x45\114\x45\x43\x54\x20\x6b\x65\171\x77\x6f\162\x64\40\106\122\117\115\x20\x6f\143\x5f\x75\162\x6c\137\141\154\151\141\x73\40\127\x48\105\x52\105\x20\161\x75\x65\162\x79\40\x3d\40\x27\160\162\157\144\x75\x63\164\x5f\x69\x64\75" . (int) $product_id . "\x27")->row; if ($d44) { goto A04; } $e0e = ''; goto d52; A04: goto a4a; Ad1: $D6 .= "\40\x77\150\145\x72\145\x20\140\160\x72\157\144\x75\x63\164\137\151\x64\140\x20\75\x20" . $product_id; if (!$Dca) { goto E03; } query($D6); E03: if (!g("\165\x70\144\141\x74\x65\137\157\160\164\x69\x6f\x6e\x73")) { goto F04; } goto bd1; f48: $adb[] = "\x3c\x62\76\x61\164\x74\162\x69\x62\x75\164\x65\x73\x3c\57\142\x3e"; $Dca = true; query("\104\x45\114\105\x54\x45\40\x46\122\117\115\x20\157\x63\x5f\x70\x72\x6f\144\x75\143\x74\x5f\141\x74\164\162\x69\x62\x75\164\145\40\127\110\x45\x52\105\x20\x70\162\157\x64\x75\143\164\137\x69\144\x20\75\x20\47" . (int) $product_id . "\x27"); if (!isset($c47)) { goto ba8; } foreach ($c47 as $fa1) { if (!$fa1["\x61\164\x74\162\151\142\x75\164\x65\137\x69\x64"]) { goto A3f; } foreach ($fa1["\x70\x72\x6f\x64\x75\143\x74\137\141\164\164\162\x69\142\x75\164\x65\x5f\x64\145\163\x63\x72\x69\160\x74\151\157\156"] as $C6 => $c63) { query("\111\x4e\x53\105\x52\124\x20\111\116\x54\117\x20\157\143\137\x70\x72\x6f\x64\x75\143\164\x5f\141\164\x74\x72\151\x62\165\164\145\40\x53\105\124\40\x70\162\x6f\144\x75\x63\x74\x5f\x69\x64\x20\75\x20\47" . (int) $product_id . "\47\54\40\x61\x74\164\x72\151\142\165\164\x65\137\x69\144\x20\75\x20\47" . (int) $fa1["\141\x74\x74\162\x69\x62\x75\x74\x65\137\151\x64"] . "\x27\x2c\40\x6c\141\156\x67\165\x61\147\145\x5f\x69\144\x20\75\x20\x27" . (int) $C6 . "\47\54\x20\x74\145\x78\164\x20\75\40\47" . escape($c63["\x74\145\x78\164"]) . "\47"); B9d: } A45: A3f: c79: } goto e51; f82: B52: F43: if (!(g("\144\141\x74\x65\x5f\x61\x76\x61\x69\154\x61\142\x6c\x65") && $product["\144\141\164\145\x5f\141\166\x61\x69\154\141\142\x6c\x65"] != $Bf["\x64\141\x74\145\x5f\141\x76\x61\151\x6c\x61\x62\x6c\145"])) { goto c77; } $D6 .= "\54\40\x60\144\x61\164\x65\137\141\x76\141\x69\x6c\x61\142\x6c\x65\x60\x20\75\x20\47" . $product["\144\141\164\x65\x5f\x61\166\x61\151\x6c\x61\142\154\145"] . "\x27"; $adb[] = "\x3c\142\76\144\141\x74\145\137\141\x76\141\151\x6c\141\x62\x6c\x65\x3c\x2f\x62\76\72\40{$Bf["\x64\141\x74\145\137\141\166\141\x69\154\x61\x62\x6c\145"]}\40\x2d\x3e\40{$product["\x64\141\x74\145\137\141\166\141\151\x6c\141\x62\x6c\x65"]}"; goto bd5; Be1: goto E4d; c8c: $f63 = 1; E4d: A23: goto fb9; b3d: b1($product_id); return $adb; goto fb4; Ad2: e37: if (!g("\165\x70\144\141\164\145\137\x6e\x65\167\x5f\160\162\x69\x63\145")) { goto F43; } $d44 = query("\123\105\114\105\103\x54\40\x70\162\x69\143\x65\x20\106\x52\117\x4d\40" . DB_PREFIX . "\x70\162\157\x64\x75\x63\x74\137\163\160\145\143\151\141\x6c\x20\x57\x48\x45\122\x45\x20\160\162\x6f\x64\x75\x63\164\x5f\151\144\75{$product_id}")->row; if ($d44) { goto C2f; } $e0e = 0; goto Ef4; fb4: } function query($B4) { global $db, $DB_PREFIX; $B4 = str_replace("\40\x6f\x63\137", "\x20" . DB_PREFIX, $B4); $B4 = str_replace("\x60\157\x63\x5f", "\140" . DB_PREFIX, $B4); $B4 = str_replace("\x20\x70\x61\x72\163\145\x6d\170\x5f", "\x20" . $DB_PREFIX, $B4); return $db->query($B4); } function HaveAdminAccess() { global $user; if ($user) { goto f5e; } return false; f5e: if (method_exists($user, "\150\141\x73\120\x65\x72\x6d\x69\x73\163\x69\157\156")) { goto bed; } return false; bed: return $user->hasPermission("\155\157\x64\x69\146\x79", "\x73\145\164\164\151\156\147\x2f\163\x65\x74\164\x69\156\147"); } function GetCategories() { goto bf5; bf5: global $Ca; $A7 = query("\x53\105\114\x45\x43\124\x20\x63\x2e\x63\141\x74\x65\x67\157\x72\171\137\x69\144\54\40\x6e\x61\155\145\54\x20\x70\x61\x72\145\156\164\x5f\x69\144\x20\x46\122\x4f\115\40\157\x63\x5f\x63\x61\164\145\147\x6f\x72\171\40\x63\40\112\x4f\111\116\x20\x6f\143\137\x63\141\x74\145\147\157\162\x79\137\x64\145\x73\x63\x72\151\160\x74\151\157\156\40\143\144\40\x4f\116\x20\50\x63\x2e\x63\x61\164\145\x67\157\x72\x79\137\x69\144\40\75\40\143\144\56\x63\141\164\x65\147\x6f\162\x79\x5f\151\144\51\x20\x57\110\105\122\105\x20\143\144\x2e\154\x61\x6e\147\165\x61\147\145\x5f\151\x64\x20\75\40\47" . (int) $Ca->get("\x63\157\156\x66\x69\x67\137\154\x61\156\147\x75\141\147\x65\137\x69\144") . "\47")->rows; $c36 = array(); foreach ($A7 as $be3) { $c36[$be3["\x63\141\x74\x65\x67\157\x72\x79\137\151\144"]] = $be3; afc: } a70: goto Db2; F2c: d31: goto B8a; ef8: goto D2c; B8a: goto Cfb; Cfb: return $A7; goto B59; Db2: $A7 = $c36; $ea9 = true; D2c: if (!$ea9) { goto B8a; } $ea9 = false; goto B7e; B7e: $A0b = false; foreach ($A7 as &$be3) { goto bfe; d4a: Dc0: if (isset($A7[$e1]["\x66\x75\154\x6c\156\141\155\x65"])) { goto Dd6; } $ea9 = true; goto ee4; Dd6: goto c41; F03: C98: goto D2e; c41: $be3["\146\x75\154\x6c\x6e\141\155\145"] = $A7[$e1]["\146\x75\154\x6c\156\141\x6d\x65"] . "\40\46\x67\x74\73\40" . $be3["\156\141\x6d\x65"]; $A0b = true; ee4: ff6: B98: goto F03; bfe: if (isset($be3["\146\x75\154\x6c\x6e\x61\x6d\x65"])) { goto B98; } if ($e1 = $be3["\160\x61\162\145\x6e\164\137\151\144"] and isset($A7[$e1])) { goto Dc0; } $be3["\x66\x75\x6c\x6c\x6e\x61\155\x65"] = $be3["\x6e\141\155\x65"]; $A0b = true; goto ff6; goto d4a; D2e: } a95: if ($A0b) { goto ef8; } foreach ($A7 as &$be3) { if (isset($be3["\146\x75\154\x6c\x6e\x61\155\145"])) { goto c67; } $be3["\x66\x75\x6c\x6c\156\x61\155\145"] = $be3["\x6e\x61\x6d\x65"]; c67: ecd: } goto F2c; B59: } function GetProductsFromCategory($f7) { $D6 = query("\x53\x45\114\x45\x43\x54\40\x70\56\x70\x72\157\x64\x75\143\x74\137\x69\x64\x20\x46\122\117\x4d\x20\157\x63\137\160\x72\x6f\x64\x75\x63\164\40\x70\x20\x4c\105\106\124\40\112\117\111\x4e\x20\x6f\x63\x5f\x70\162\x6f\144\165\x63\164\137\x74\x6f\x5f\143\141\164\145\x67\157\162\171\40\x70\x63\40\117\x4e\x20\50\x70\56\x70\x72\157\x64\x75\x63\164\x5f\x69\144\75\160\143\56\x70\x72\x6f\x64\165\x63\x74\137\151\x64\x29\x20\x57\110\x45\122\105\40\143\x61\x74\x65\x67\x6f\162\x79\137\151\x64\75{$f7}")->rows; $A7 = array(); foreach ($D6 as $Bf) { $A7[] = $Bf["\x70\162\x6f\x64\165\143\164\137\151\144"]; Fc5: } af5: return $A7; } goto Eff; d4f: if (!Db) { goto D16; } require_once DIR_SYSTEM . "\x6c\x69\x62\x72\x61\162\x79\x2f\144\142\57" . DB_DRIVER . "\56\160\150\x70"; D16: $db = new DB(DB_DRIVER, DB_HOSTNAME, DB_USERNAME, DB_PASSWORD, DB_DATABASE); goto Ed1; goto d51; e8f: goto a7f; f0a: VQMod::bootup(); require_once VQMod::modCheck(DIR_SYSTEM . "\163\x74\141\x72\x74\x75\160\x2e\160\x68\160"); if (Db) { goto B78; } goto a5d; B25: function c0() { goto cac; d6e: $E52 = array(); global $d1b; $d1b = 0; foreach ($options as $ba9 => $D5c) { goto fc4; a49: $Ec = inside("\137", '', $name); goto E9c; a3a: $Ec = false; if (!$options_type) { goto a30; } goto Cec; fc4: $name = trim($ba9); if ($name) { goto acd; } goto fce; acd: if (!(substr($name, -1) == "\x3a")) { goto ad0; } goto add; f61: $d1b += $b01; $c74 = array(); foreach ($D5c as $F9 => $A4) { goto df3; a8d: $c74[] = $A4; if (!$options_price) { goto F36; } $c74[] = $options_price[$ba9][$F9] - $b01; F36: if (empty($options_image[$ba9])) { goto e3b; } goto A14; Cbf: $A4 .= "\40\x5b" . (int) $a4d[$ba9][$F9] . "\x5d"; goto b43; D27: if (!(substr($A4, -1) == "\x5d")) { goto Bb5; } $A4 .= "\40"; goto C49; A14: $dc = @$options_image[$ba9][$F9]; if (is_image($dc)) { goto d63; } $dc = "\x6e\157\x5f\x69\x6d\x61\x67\x65\x2e\152\160\x67"; d63: $c74[] = $dc; goto e3e; C49: Bb5: b43: if (!is_numeric($A4)) { goto f4d; } $A4 .= "\x20"; f4d: goto a8d; e3e: e3b: b44: goto b02; df3: $A4 = trim($A4); if ($A4) { goto C5e; } goto b44; C5e: if (empty($a4d[$ba9][$F9])) { goto D27; } goto Cbf; b02: } E8d: if ($c74) { goto C70; } goto B38; C8e: E71: if (!($b01 == 1000000)) { goto f12; } $b01 = 0; f12: ecb: goto f61; c8a: if (is_array($options_required)) { goto Ab5; } $Eb1 = $options_required; goto Fa4; Ab5: $Eb1 = @$options_required[$ba9]; goto acf; acf: Fa4: if ($Eb1) { goto b94; } $name .= "\x2a"; b94: if (!find("\x5f", $name)) { goto a3a; } goto a49; B38: goto fce; C70: $E52[$name] = $c74; fce: goto B49; D22: E9c: $b01 = 0; if (!($Eb1 && $Ec != "\x63\150\145\x63\x6b\x62\x6f\x78" && @$options_price[$ba9])) { goto ecb; } $b01 = 1000000; foreach ($D5c as $F9 => $A4) { $f01 = currency(@$options_price[$ba9][$F9]); if (!($f01 < $b01)) { goto dfd; } $b01 = $f01; dfd: $options_price[$ba9][$F9] = $f01; bb5: } goto C8e; b61: $Ec = "\162\x61\144\x69\x6f"; goto D14; cf8: $Ec = "\x69\155\141\x67\x65"; goto D14; goto c9a; c9a: d6f: $Ec = "\x73\145\154\x65\143\164"; D14: E41: $name .= "\137" . $Ec; goto D22; F25: d43: a30: if ($Ec) { goto E41; } if (!empty($options_image[$ba9])) { goto cf8; } if (count($D5c) > 4) { goto d6f; } goto b61; Cec: if (is_array($options_type)) { goto De9; } $Ec = $options_type; goto d43; De9: $Ec = @$options_type[$ba9]; goto F25; add: $name = substr($name, 0, -1); ad0: if ($D5c) { goto F5a; } goto fce; F5a: goto c8a; B49: } Fbd: goto E08; Bba: $options_required = g("\157\160\x74\151\157\x6e\x73\x5f\x72\x65\161\x75\151\x72\145\144", true); $options_price = g("\157\x70\x74\x69\157\x6e\163\x5f\160\162\151\143\x65"); $options_image = g("\157\160\x74\151\x6f\x6e\163\137\x69\x6d\141\x67\x65"); $a4d = g("\157\160\x74\151\157\156\x73\137\x71\165\141\156\x74\151\164\171"); $C3f = array_keys($options); goto C66; e70: D40: if (!$options_image) { goto Db8; } $options_image = array("\123\145\154\x65\143\164" => $options_image); Db8: A6f: goto d6e; cac: $options = g("\157\160\164\151\x6f\x6e\163"); if ($options) { goto da4; } return array(); da4: $options_type = g("\157\x70\x74\151\x6f\156\x73\x5f\x74\x79\x70\x65"); goto Bba; E08: return bd($E52); goto C21; C66: if (!is_numeric(end($C3f))) { goto A6f; } $options = array("\x53\x65\154\x65\x63\x74" => $options); if (!is_array($options_required)) { goto A58; } $options_required = array("\123\x65\x6c\145\x63\164" => $options_required); A58: goto Cb0; Cb0: if (!is_array($options_type)) { goto A3c; } $options_type = array("\123\x65\x6c\145\x63\x74" => $options_type); A3c: if (!$options_price) { goto D40; } $options_price = array("\x53\145\154\145\x63\x74" => $options_price); goto e70; C21: } function Bd($c07) { goto c10; C85: if (!$Aea) { goto Ffa; } global $C4a; $C4a = array("\162\145\154\x61\x74\145\x64\137\157\x70\164\151\157\x6e\163\137\165\163\145" => true, "\x72\x65\154\141\164\x65\144\x5f\x6f\x70\164\151\x6f\x6e\163\137\x76\x61\162\151\141\156\164\x5f\x73\145\x61\162\x63\150" => true); foreach ($Aea as $b4f) { $A7 = array("\161\x75\141\156\x74\x69\164\171" => 1000, "\155\157\x64\145\x6c" => '', "\x70\162\151\143\x65" => 0); foreach ($b4f as $af => $A4) { if (is_numeric($af)) { goto C4b; } $A7[$af] = $A4; goto E7f; C4b: $A7["\157\x70\x74\151\157\x6e\x73"][$Ef7[$A4]] = $b63[$A4]; E7f: cef: } a5c: $C4a["\162\x65\x6c\x61\164\x65\144\x6f\x70\x74\x69\157\156\163"][] = $A7; de7: } Bad: goto c2f; c10: global $Aea; if (!empty($c07)) { goto dfc; } return array(); dfc: f2("\154\x6f\x61\144")->model("\143\x61\x74\x61\x6c\157\147\x2f\157\x70\x74\x69\157\x6e"); goto bc0; bc0: $res = array(); $cee = false; $z_order = 100; foreach (array_keys($c07) as $Ef) { goto C2c; Afc: goto af2; db0: $Fde = substr($name, $Bf + 1); $name = substr($name, 0, $Bf); af2: goto B6e; B41: if (!($Fde == "\151\155\x61\147\145")) { goto C23; } $cb1 = true; C23: if (!(substr($name, -1) == "\72")) { goto Fe4; } $name = substr($name, 0, -1); goto C4d; f46: $f5c = array(); $cf7 = array(); $f27 = array(); if ($cb1) { goto F27; } $cb1 = @is_image($c07[$Ef][1]) || @is_image($c07[$Ef][2]); goto a66; D33: F99: $D7a = query("\x53\x45\114\105\103\124\40\x2a\x20\x46\x52\x4f\x4d\x20\x60\157\x63\137\x6f\x70\164\x69\x6f\x6e\x60\40\157\40\x4c\x45\x46\x54\40\x4a\117\111\116\40\157\x63\x5f\157\160\164\x69\x6f\x6e\137\144\x65\x73\143\162\x69\160\164\151\157\x6e\40\x6f\144\x20\117\116\x20\50\157\56\157\x70\x74\151\x6f\x6e\137\151\144\40\75\x20\x6f\x64\x2e\157\160\x74\151\157\x6e\137\x69\144\x29\x20\x57\x48\105\122\105\40\156\x61\155\145\x20\x3d\x27" . $name . "\47")->row["\157\160\164\151\157\156\137\x69\x64"]; C22: goto f03; E4a: goto F17; Bf1: $res[] = $Ccc; e64: dc5: goto Cdc; a00: fb2: $b41 = false; foreach ($c07[$Ef] as $A4) { if ($b41 = !$b41) { goto b34; } $f27[] = $A4; goto aa0; b34: $f5c[] = $A4; aa0: ddb: } Bc3: E9d: goto Db4; D3a: F0b: F2("\155\x6f\144\145\x6c\x5f\143\141\x74\141\x6c\x6f\x67\x5f\157\x70\164\x69\157\156")->addOption($E02); $d9 = query("\123\x45\114\105\x43\124\40\156\x61\155\x65\40\106\x52\x4f\115\x20\x6f\x63\137\157\160\x74\x69\x6f\x6e\137\x64\145\x73\143\x72\151\x70\x74\x69\x6f\x6e\40\x57\x48\105\122\105\x20\154\141\x6e\x67\165\x61\x67\x65\137\151\x64\75" . g("\144\145\146\141\165\x6c\x74\x5f\x6c\x61\x6e\x67\x5f\x69\x64") . "\x20\x4f\122\104\x45\122\x20\x42\x59\40\157\160\164\151\157\156\x5f\x69\x64\x20\x44\x45\123\x43\x20\114\x49\x4d\x49\124\40\x31")->row["\x6e\x61\x6d\145"]; if (!($E87 != $d9)) { goto F99; } xlog("\x57\101\122\x4e\111\116\x47\x3a\x20\x43\x72\145\141\164\x65\x64\x20\157\160\x74\x69\157\156\40\x73\141\x76\145\x20\156\141\155\x65\40\155\x69\163\x6d\141\x74\x63\150\72\40\47{$E87}\47\x20\55\76\x20\47{$d9}\x27"); goto D33; F1b: $A8a = array(); $c58 = array(); foreach ($f5c as $edc => $B7d) { goto bca; d61: $af3["\157\160\x74\151\x6f\x6e\x5f\x76\141\154\165\145\x5f\144\145\163\143\162\151\x70\x74\151\x6f\x6e"] = F9($B7d, "\156\x61\x6d\145"); if (!g("\x73\x6b\x69\160")) { goto E42; } $e76 = rand(10000, 100000); goto Fae; E42: goto C20; e03: $A8a[] = (int) substr($B7d, $Bf + 2); $B7d = substr($B7d, 0, $Bf); dc4: $B7d = A3($B7d); if (!in_array($B7d, $c58)) { goto ec2; } goto c78; dac: if (!g("\151\x6e\143\157\x6d\x69\x6e\x67\137\154\x61\x6e\147\x75\141\x67\145")) { goto C01; } $A8f = A3(BF($B7d, g("\x69\156\x63\x6f\155\x69\x6e\147\x5f\x6c\141\x6e\147\165\141\x67\145"), g("\x64\x65\146\141\x75\x6c\x74\x5f\154\141\156\x67"))); C01: foreach ($options as $F9 => $A4) { if (!($A4["\x6e\x61\155\145"] === $A8f || A3($A4["\x6e\141\155\x65"]) === $A8f)) { goto E1c; } $a34[] = $A4; $E41[] = @$cf7[$edc]; $cf8[] = @$f27[$edc]; $bc0 = true; goto Bb9; E1c: cbb: } Bb9: goto b1a; Beb: abd: $cb1 = "\156\x6f\137\151\155\141\x67\145\x2e\x6a\160\x67"; d59: $bfa = array("\x6e\x61\155\x65" => $B7d, "\151\x6d\141\147\145" => $cb1, "\x73\x6f\x72\164\x5f\x6f\162\x64\145\x72" => $e20++); $af3 = $bfa; goto d61; cdf: Fae: $bfa["\x6f\x70\164\151\x6f\156\137\x76\x61\154\165\145\x5f\x69\144"] = $e76; $a34[] = $bfa; $E41[] = @$cf7[$edc]; $cee = true; goto F29; F29: dde: if (!$Aea) { goto A8b; } $Ea3 = end($a34); $Ef7[$name . "\x3a" . $Ea3["\156\141\155\145"]] = $D7a; $Ef7[$Ea3["\x6e\141\x6d\145"]] = $D7a; goto ddd; b1a: if ($bc0) { goto dde; } $cb1 = @$f27[$edc]; if (!$cb1 or g("\163\153\151\160")) { goto abd; } $cb1 = get_image($cb1); goto d59; goto Beb; ddd: $b63[$name . "\72" . $Ea3["\x6e\141\155\145"]] = $Ea3["\x6f\x70\x74\x69\157\156\x5f\166\141\x6c\x75\x65\x5f\151\x64"]; $b63[$Ea3["\x6e\x61\155\145"]] = $Ea3["\157\160\x74\151\x6f\x6e\x5f\x76\141\x6c\x75\145\x5f\151\x64"]; A8b: B0e: goto d8f; c78: goto B0e; ec2: $c58[] = $B7d; $f5c[$edc] = $B7d; $A8f = $B7d; goto dac; C20: $e76 = e2($D7a, $af3); $d9 = query("\x53\105\x4c\105\x43\x54\x20\x6e\141\x6d\145\x20\106\122\x4f\x4d\x20\157\143\137\x6f\x70\164\151\157\156\137\166\141\x6c\165\x65\137\x64\145\163\x63\x72\151\160\x74\151\157\x6e\x20\127\110\105\x52\105\x20\x6c\141\x6e\147\x75\x61\147\145\x5f\x69\x64\75" . g("\144\x65\146\141\x75\x6c\164\x5f\154\141\156\x67\x5f\x69\x64") . "\40\x4f\122\104\105\x52\x20\102\x59\40\x6f\x70\x74\x69\x6f\156\x5f\x76\x61\154\x75\x65\137\151\144\40\104\x45\x53\x43\40\114\111\115\x49\x54\40\61")->row["\156\141\155\x65"]; if (!($A8f != $d9)) { goto a62; } xlog("\x57\101\122\x4e\x49\116\x47\72\x20\x43\x72\x65\141\x74\145\144\40\x6f\x70\x74\x69\157\156\x20\x73\141\x76\x65\x20\x6e\141\155\145\x20\155\151\163\155\x61\164\143\x68\72\40\x27{$A8f}\47\40\55\x3e\40\47{$d9}\47"); a62: goto cdf; bca: $bc0 = false; if ($Bf = strpos($B7d, "\40\x5b") and substr($B7d, -1) == "\135" and is_numeric(substr($B7d, $Bf + 2, -1))) { goto e89; } $A8a[] = 100; goto dc4; e89: goto e03; d8f: } df6: foreach ($a34 as $F9 => $A4) { goto F7b; F9b: a24: goto d6d; D32: $a34[$F9]["\x70\x72\x69\x63\x65"] = $E41[$F9]; $a34[$F9]["\x70\x6f\x69\x6e\x74\x73\137\x70\x72\145\x66\x69\x78"] = "\x2b"; $a34[$F9]["\160\x6f\x69\x6e\164\163"] = ''; $a34[$F9]["\x77\145\x69\147\x68\x74\x5f\160\162\145\146\x69\170"] = "\53"; $a34[$F9]["\167\145\151\x67\150\164"] = ''; goto F9b; Dfd: $E41[$F9] = ''; goto a1e; Be8: $E41[$F9] = f8($E41[$F9]); a1e: goto D32; F7b: $a34[$F9]["\x70\x72\x6f\144\x75\x63\164\x5f\157\160\x74\x69\157\x6e\137\x76\x61\x6c\x75\x65\x5f\x69\x64"] = ''; $a34[$F9]["\161\165\x61\x6e\164\x69\164\x79"] = $A8a[$F9]; $a34[$F9]["\x73\165\142\164\x72\141\143\x74"] = "\61"; $a34[$F9]["\x70\x72\151\x63\x65\137\160\x72\x65\x66\x69\170"] = "\53"; if (@$E41[$F9]) { goto Be8; } goto Dfd; d6d: } goto E3b; d22: f8c: goto cc5; Bd8: $b41 = 0; foreach ($c07[$Ef] as $A4) { switch ($b41) { case 0: $f5c[] = $A4; goto cbe; case 1: $cf7[] = $A4; goto cbe; case 2: $f27[] = $A4; goto cbe; } F9d: cbe: $b41++; if (!($b41 > 2)) { goto Cdf; } $b41 = 0; Cdf: Dab: } goto e96; C4d: Fe4: $E87 = $name; if (!g("\x69\156\x63\x6f\155\151\156\x67\137\154\141\156\147\x75\141\x67\145")) { goto f55; } $E87 = A3(bf($name, g("\x69\x6e\x63\157\x6d\x69\156\x67\x5f\x6c\x61\156\x67\x75\141\x67\145"), g("\144\145\x66\x61\x75\154\x74\137\x6c\x61\156\147"))); f55: goto ef5; e96: c82: cc5: E8a: $E41 = array(); $e20 = 100; goto F1b; B6e: $Eb1 = 1; if (!($name[strlen($name) - 1] == "\x2a")) { goto d38; } $name = substr($name, 0, -1); $Eb1 = 0; d38: goto B41; Db4: goto E8a; bb9: if ($cb1) { goto Bd8; } $b41 = false; foreach ($c07[$Ef] as $A4) { if ($b41 = !$b41) { goto D4c; } $cf7[] = $A4; goto A85; D4c: $f5c[] = $A4; A85: Bca: } goto d22; f9a: $E02 = array("\x74\x79\160\x65" => $Fde, "\x73\157\x72\x74\137\x6f\162\144\x65\x72" => $z_order++); $E02["\x6f\x70\164\x69\x6f\156\x5f\x64\145\x73\143\x72\151\x70\x74\x69\157\156"] = F9($name, "\x6e\141\x6d\145"); if (!g("\x73\153\x69\160")) { goto F0b; } $D7a = rand(10000, 100000); goto C22; goto D3a; C2c: $name = trim(str_replace("\40\x20", "\x20", $Ef)); $name = A3($name); $cb1 = false; if ($Bf = strpos($name, "\x5f")) { goto db0; } $Fde = "\162\141\144\151\157"; goto Afc; a66: F27: if (@is_numeric($c07[$Ef][1])) { goto bb9; } if ($cb1) { goto fb2; } $f5c = $c07[$Ef]; goto E9d; goto a00; E3b: Cf4: $Ccc = $Be4; $Ccc["\x70\x72\x6f\x64\x75\143\x74\137\157\160\164\151\157\156\x5f\x76\141\154\x75\145"] = $a34; $Ccc["\162\145\161\x75\151\x72\145\x64"] = $Eb1; if (!$a34) { goto e64; } goto Bf1; ef5: $D6 = query("\x53\105\x4c\x45\x43\124\x20\x6f\56\157\x70\164\x69\x6f\x6e\137\x69\144\40\x46\x52\x4f\x4d\40\x60\157\x63\x5f\157\160\164\151\x6f\156\x60\x20\x6f\x20\114\105\x46\x54\x20\112\x4f\x49\x4e\x20\x6f\x63\137\x6f\x70\164\151\x6f\156\137\x64\x65\x73\143\x72\x69\x70\x74\x69\x6f\156\40\x6f\144\x20\x4f\116\x20\x28\x6f\x2e\x6f\160\164\151\x6f\x6e\x5f\151\x64\40\x3d\40\x6f\144\x2e\157\x70\x74\151\157\156\137\x69\x64\51\40\x57\110\105\x52\105\x20\x6e\141\155\x65\40\75\x27" . $E87 . "\47")->row; if ($D6) { goto E4a; } if (!(VERSION >= "\x32\56\x33" && $Fde == "\x69\x6d\x61\147\x65")) { goto ea1; } $Fde = "\162\141\x64\151\157"; ea1: goto f9a; F17: $D7a = $D6["\157\x70\164\x69\x6f\x6e\137\151\x64"]; f03: $Be4 = f2("\x6d\x6f\x64\x65\x6c\137\x63\141\164\141\x6c\157\147\x5f\157\x70\x74\x69\x6f\156")->getOption($D7a); $options = f2("\155\x6f\144\x65\x6c\137\x63\141\164\x61\154\157\x67\x5f\x6f\160\164\x69\157\x6e")->getOptionValues($Be4["\157\x70\x74\x69\157\x6e\x5f\x69\x64"]); $a34 = array(); goto f46; Cdc: } d2b: goto C85; c2f: Ffa: if (!(g("\163\157\x72\x74\x5f\x6f\x70\x74\151\x6f\x6e\163") and $cee)) { goto Cab; } sort_options(); Cab: return $res; goto eab; eab: } function E2($D7a, $bfa) { global $db; query("\x49\116\x53\105\122\124\40\111\116\124\117\40\157\x63\137\x6f\x70\164\x69\157\156\x5f\166\x61\154\x75\145\x20\x53\x45\124\40\x6f\x70\164\151\x6f\x6e\x5f\x69\x64\x20\75\x20" . (int) $D7a . "\x2c\x20\151\155\141\147\145\40\75\40\47" . escape(html_entity_decode($bfa["\x69\x6d\141\147\x65"], ENT_QUOTES, "\125\124\106\x2d\70")) . "\x27\x2c\x20\x73\x6f\162\164\x5f\x6f\162\x64\x65\x72\x20\x3d\x20\x27" . (int) $bfa["\163\x6f\x72\x74\137\157\162\144\145\x72"] . "\47"); $F30 = $db->getLastId(); foreach ($bfa["\157\160\164\x69\x6f\156\137\166\x61\x6c\165\x65\137\x64\x65\163\x63\162\151\x70\164\x69\157\156"] as $C6 => $Ae5) { query("\x49\x4e\x53\105\x52\x54\x20\111\116\124\117\x20\x6f\x63\137\x6f\x70\164\x69\x6f\x6e\137\x76\141\x6c\165\x65\137\x64\145\163\x63\x72\151\x70\x74\151\157\x6e\x20\123\x45\x54\40\x6f\x70\x74\x69\x6f\x6e\x5f\x76\x61\154\x75\x65\x5f\x69\144\x20\x3d\x20\x27" . (int) $F30 . "\x27\x2c\x20\154\x61\156\x67\165\141\x67\x65\x5f\x69\x64\x20\x3d\x20\47" . (int) $C6 . "\47\54\40\x6f\160\x74\x69\x6f\156\x5f\x69\144\40\x3d\x20\47" . (int) $D7a . "\47\x2c\x20\156\141\155\x65\40\x3d\40\47" . escape($Ae5["\x6e\x61\x6d\x65"]) . "\x27"); Bbf: } F41: return $F30; } function a3($A38) { goto ec5; C3d: E06: C11: goto D3f; Bec: return $A38; goto c0e; ec5: $A38 = trim($A38); if (strpos($A38, "\73")) { goto a1a; } $A38 = str_replace("\46", "\x26\141\155\x70\x3b", $A38); a1a: $tags = array("\x62\162", "\x61\x20", "\x2f\141", "\151\x6d\x67\x20"); goto Fac; dfa: if (!$d86) { goto C11; } $ad2 = strpos($A38, "\x3e", $Bf); if (!$ad2) { goto E06; } $b9 = $ad2 + 1; $Bf = $ad2 + 1; goto C3d; Ccc: $A38 = substr($A38, 0, $b9) . $B88 . substr($A38, $Bf); $Bf += strlen($B88) - strlen($Fe); $b9 = $Bf; if (!($Bf >= strlen($A38))) { goto ab7; } goto Bec; goto bf4; bf4: ab7: $Bf++; $d86 = false; foreach ($tags as $cf4) { if (!(strtolower(substr($A38, $Bf, strlen($cf4))) == $cf4)) { goto a61; } $d86 = true; goto C7b; a61: ee8: } C7b: goto dfa; Fac: $b9 = 0; $Bf = 0; D3f: if (!true) { goto Bec; } $Bf = strpos($A38, "\74", $Bf); goto B94; B94: if (!($Bf === false)) { goto Eeb; } $Bf = strlen($A38); Eeb: $Fe = substr($A38, $b9, $Bf - $b9); $B88 = str_replace(array("\74", "\x3e", "\x22", "\x27"), array("\x26\154\164\x3b", "\46\x67\164\73", "\46\161\165\x6f\164\73", "\46\x23\60\63\71\x3b"), $Fe); goto Ccc; c0e: } function B0($A38, $Ef = '', &$Cd6 = false) { goto B13; C36: goto a6e; ed7: $A7 =& $Cd6; a6e: global $default_lang, $incoming_language; goto C7e; fe5: if (!$Ef) { goto b68; } foreach (g("\x6c\141\156\x67") as $eb9 => $id) { goto dbc; dbc: if (!$incoming_language) { goto e5b; } $A38 = bf($C7d, $incoming_language, $eb9); e5b: if (is_string($A38)) { goto d44; } if (!empty($A38[$eb9])) { goto b3c; } goto E45; E45: $A7[$id][$Ef] = htmlspecialchars($A38[$default_lang]); goto cb2; d44: $A7[$id][$Ef] = htmlspecialchars($A38); goto cb2; goto D59; D59: b3c: $A7[$id][$Ef] = htmlspecialchars($A38[$eb9]); cb2: F5d: goto c44; c44: } D29: b68: return $A7; goto c65; C7e: $C7d = $A38; if ($Ef) { goto D49; } foreach (g("\x6c\x61\x6e\x67") as $eb9 => $id) { goto a52; a52: if (!$incoming_language) { goto a76; } $A38 = bf($C7d, $incoming_language, $eb9); a76: if (is_string($A38)) { goto A40; } if (!empty($A38[$eb9])) { goto ce3; } goto c5d; c5d: $A7[$id] = htmlspecialchars($A38[$default_lang]); goto Cf0; A40: $A7[$id] = htmlspecialchars($A38); goto Cf0; goto E1e; E1e: ce3: $A7[$id] = htmlspecialchars($A38[$eb9]); Cf0: Ec8: goto b73; b73: } C77: D49: goto fe5; B13: if (!(is_array($A38) and is_numeric(key($A38)))) { goto c42; } $A38 = "\x3c\160\x3e" . implode("\74\57\160\76\x3c\160\76", $A38) . "\x3c\x2f\x70\x3e"; c42: if ($Cd6) { goto ed7; } $A7 = array(); goto C36; c65: } goto dab; e19: goto B62; E21: if (b4) { goto f14; } require_once DIR_SYSTEM . "\163\x74\141\x72\164\165\x70\56\160\150\160"; goto bcb; goto a0d; ea4: if (!$Ca->get("\144\x62\137\x61\165\164\157\x73\164\141\x72\x74")) { goto b49; } $db = new DB($Ca->get("\144\142\137\x74\x79\160\x65"), $Ca->get("\144\142\137\x68\x6f\163\164\156\141\155\145"), $Ca->get("\x64\x62\137\x75\163\145\x72\x6e\x61\x6d\145"), $Ca->get("\x64\x62\x5f\x70\141\163\x73\x77\157\162\144"), $Ca->get("\x64\x62\x5f\x64\141\x74\x61\142\141\163\145"), $Ca->get("\144\x62\137\160\x6f\162\x74")); $registry->set("\x64\142", $db); b49: $session = new Session(); goto e0c; Fd2: function b6($product_id) { goto C82; fda: $a3 = query("\123\105\114\x45\x43\x54\x20\151\x6d\141\147\x65\40\x46\x52\117\115\x20\157\x63\137\160\x72\157\x64\x75\143\x74\x5f\x69\x6d\x61\147\x65\40\x57\x48\x45\x52\105\40\x70\x72\157\x64\x75\x63\x74\x5f\x69\144\x20\x3d\40\x27{$product_id}\47")->rows; global $a6; if (!@strpos($Bf["\x69\155\141\147\145"], "\x2f\x6c\x69\57")) { goto B11; } A7("\x74\157\164\x61\x6c\137\x66\151\154\145\x73", -1); A7("\164\157\x74\x61\x6c\137\x73\x69\x7a\x65", -filesize($ea . $Bf["\151\155\141\x67\x65"])); goto dfb; dfb: unlink($ea . $Bf["\x69\155\141\x67\145"]); E3($Bf["\x69\155\141\147\x65"]); B11: foreach ($a3 as $af) { if (!@strpos($af["\x69\x6d\x61\x67\x65"], "\57\154\151\57")) { goto Ba3; } a7("\164\x6f\x74\141\154\x5f\x66\151\154\x65\163", -1); a7("\164\x6f\164\141\154\137\163\x69\x7a\145", -filesize($ea . $af["\x69\155\x61\x67\145"])); unlink($ea . $af["\151\x6d\141\147\145"]); E3($af["\x69\x6d\141\x67\x65"]); Ba3: b7c: } Cc8: goto Dc4; C82: $ea = DIR_IMAGE; $Bf = query("\x53\x45\x4c\105\x43\x54\40\151\x6d\141\147\x65\x20\x46\x52\x4f\x4d\x20" . DB_PREFIX . "\160\162\157\144\165\143\x74\40\x57\110\x45\x52\105\x20\160\x72\157\144\165\143\164\x5f\x69\144\x3d\47{$product_id}\47")->row; if ($Bf) { goto F93; } return; F93: goto fda; Dc4: } function product_delete($product_id) { B6($product_id); $reviews = query("\123\x45\x4c\x45\x43\124\x20\162\x65\x76\x69\145\x77\137\x69\144\x20\x46\x52\117\115\x20\160\141\162\163\145\x6d\x78\x5f\x72\145\166\151\x65\x77\163\x20\127\x48\x45\122\x45\x20\160\x72\157\x64\165\143\x74\137\151\144\x3d{$product_id}")->rows; foreach ($reviews as $D1) { query("\104\105\114\x45\x54\x45\x20\106\122\117\115\40\x6f\143\137\162\x65\x76\151\x65\167\40\127\110\105\122\105\x20\x72\145\166\x69\x65\x77\137\151\144\x20\75\40" . $D1["\x72\145\x76\151\145\x77\x5f\x69\x64"]); query("\104\105\114\105\x54\105\x20\106\x52\x4f\115\40\x70\141\x72\163\x65\x6d\x78\137\x72\145\x76\x69\x65\167\x73\x20\x57\110\x45\x52\105\x20\x72\145\166\151\x65\x77\137\151\144\x20\x3d\40" . $D1["\162\145\166\151\x65\167\x5f\151\x64"]); a57: } Ca0: static $Fb; if ($Fb) { goto f04; } f2("\154\x6f\141\144")->model("\x63\141\x74\x61\x6c\x6f\x67\57\160\x72\x6f\x64\165\143\x74"); $Fb = true; f04: f2("\155\157\x64\x65\x6c\x5f\143\x61\164\141\154\157\147\137\160\x72\157\x64\x75\x63\x74")->deleteProduct($product_id); } function before_page_processing() { } function manufacturer_name($F0) { $D6 = query("\123\105\x4c\x45\103\124\40\156\141\155\145\x20\x46\122\x4f\x4d\40" . DB_PREFIX . "\x6d\141\x6e\x75\146\141\x63\x74\x75\162\x65\x72\40\x57\110\105\122\x45\40\155\141\x6e\165\146\141\143\164\x75\162\145\162\137\x69\x64\x3d\x27" . escape($F0) . "\47")->row; if (!$D6) { goto E7b; } return html_entity_decode($D6["\156\141\155\145"]); E7b: return false; } function ManufacturerID($manufacturer, $A8 = false) { goto e7b; cec: f2("\x6d\x6f\144\x65\x6c\x5f\x63\141\x74\141\x6c\x6f\147\x5f\155\141\156\165\x66\x61\143\x74\x75\x72\x65\162")->addManufacturer(array("\x6e\x61\155\x65" => $manufacturer, "\163\157\x72\x74\137\157\162\x64\x65\x72" => 100, "\155\141\156\x75\x66\x61\x63\x74\x75\x72\x65\162\137\163\x74\x6f\x72\x65" => array(0 => 0), "\x69\155\x61\147\145" => get_image(g("\155\x61\156\x75\x66\x61\143\x74\165\x72\x65\x72\x5f\151\155\x61\x67\x65")), "\153\x65\171\x77\157\162\x64" => $a1, "\x6d\141\x6e\x75\146\141\x63\164\165\162\x65\x72\x5f\144\145\163\x63\162\151\x70\x74\x69\157\156" => $bb)); $d9 = query("\123\105\x4c\x45\x43\124\40\156\141\155\x65\40\x46\122\x4f\115\40\157\143\x5f\155\x61\x6e\x75\146\141\143\x74\x75\162\x65\162\x20\117\x52\x44\x45\122\40\x42\131\x20\x6d\x61\x6e\x75\146\x61\143\x74\x75\162\145\162\137\x69\x64\40\x44\105\123\x43\x20\114\x49\x4d\x49\x54\40\x31")->row["\156\x61\x6d\x65"]; if (!($manufacturer != $d9)) { goto b96; } xlog("\x57\101\x52\x4e\x49\116\107\72\40\x43\x72\145\x61\164\x65\x64\40\155\141\156\x75\146\141\143\x74\x75\162\x65\162\40\x73\x61\x76\x65\x20\156\141\x6d\x65\40\x6d\x69\163\155\141\164\143\x68\72\40\47{$manufacturer}\47\40\55\76\x20\47{$d9}\47"); b96: goto A29; e06: if (!g("\163\x6b\x69\x70")) { goto F44; } return false; F44: $a1 = translit($manufacturer); c2($a1); goto cec; e7b: global $manufacturer_description; $F0 = 0; $manufacturer = a3($manufacturer); if ($manufacturer) { goto Ce8; } return 0; goto e87; E9a: $F0 = $D6["\x6d\x61\156\165\146\x61\143\x74\x75\162\145\x72\137\151\144"]; E2b: if (!($F0 == 0)) { goto E37; } if ($A8) { goto A65; } return 0; goto c3f; e87: Ce8: f2("\x6c\157\141\x64")->model("\x63\141\x74\x61\x6c\x6f\147\57\155\141\x6e\x75\146\x61\143\164\x75\x72\x65\x72"); $F0 = 0; $D6 = query("\x53\x45\114\105\103\124\x20\x6d\141\x6e\x75\x66\x61\143\x74\165\162\145\x72\137\151\x64\x20\106\122\117\x4d\40" . DB_PREFIX . "\155\x61\x6e\x75\146\141\143\x74\165\162\145\x72\40\x57\x48\x45\x52\x45\x20\156\141\155\x65\75\x27" . escape($manufacturer) . "\x27")->row; if (!$D6) { goto E2b; } goto E9a; D86: b0($manufacturer_description, "\x64\145\x73\x63\162\x69\x70\164\x69\157\x6e", $bb); if (!(g("\x64\145\163\x63\x72\x69\x70\164\151\x6f\x6e\x5f\151\155\141\x67\x65\x73") and !g("\163\x6b\151\160"))) { goto Ecc; } $manufacturer_description = get_html_images($manufacturer_description); Ecc: b0($manufacturer_description, "\144\x65\x73\143\x72\x69\x70\164\x69\x6f\x6e", $bb); goto e06; c3f: A65: xlog("\x43\162\x65\x61\x74\151\156\x67\40\x3c\142\76{$manufacturer}\x3c\57\142\x3e\40\x6d\x61\156\165\x66\x61\x63\x74\x75\162\145\x72\x2e\56\x2e"); $bb = array(); foreach (g("\154\141\156\147") as $A4) { $D3["\x6d\145\x74\x61\137\144\145\163\x63\162\x69\x70\x74\x69\x6f\x6e"] = ''; $D3["\155\x65\x74\x61\x5f\153\145\171\167\157\162\144"] = ''; $D3["\x73\145\x6f\137\x68\61"] = ''; $D3["\x73\145\x6f\137\164\x69\164\154\x65"] = ''; $D3["\x6d\145\164\x61\137\150\x31"] = ''; $D3["\x6d\145\164\141\137\x74\151\164\154\x65"] = ''; $D3["\156\141\155\x65"] = $manufacturer; $bb[$A4] = $D3; Abf: } c50: goto D86; A29: $D6 = query("\123\105\x4c\105\x43\x54\x20\155\141\156\x75\146\x61\x63\x74\x75\162\145\162\x5f\151\144\40\x46\122\117\115\40" . DB_PREFIX . "\x6d\141\156\165\146\x61\143\x74\x75\162\x65\162\x20\x57\x48\x45\122\105\x20\x6e\141\x6d\145\75\x27" . escape($manufacturer) . "\47")->row; if (!$D6) { goto C5b; } $F0 = $D6["\155\x61\156\x75\146\x61\143\164\x75\162\145\x72\137\151\x64"]; C5b: E37: goto A92; A92: return $F0; goto E5a; E5a: } goto C71; Cb7: $registry->set("\162\145\x73\160\157\x6e\163\x65", $response); $cache = new Cache("\146\151\x6c\145"); $registry->set("\x63\141\x63\x68\x65", $cache); if (!empty($nosession)) { goto D6f; } $session = new Session(); goto Ec0; Fca: if (!ini_get("\x6d\x61\x67\x69\143\x5f\161\x75\157\164\145\163\x5f\x67\160\143")) { goto e45; } function E0($D3) { if (is_array($D3)) { goto fe2; } $D3 = stripslashes($D3); goto B2b; fe2: foreach ($D3 as $Ef => $A4) { $D3[e0($Ef)] = E0($A4); e82: } ef2: B2b: return $D3; } $_GET = E0($_GET); $_POST = e0($_POST); $_REQUEST = e0($_REQUEST); goto b7d; a23: function product_missing($product_id, $de) { goto F3f; e84: query("\125\120\x44\x41\x54\105\40\157\x63\137\x70\162\157\144\165\x63\x74\x20\x53\105\124\40\x71\x75\x61\156\x74\x69\x74\x79\40\75\x20\60\x20\x57\110\x45\x52\x45\x20\160\162\x6f\144\165\x63\164\x5f\151\144\40\x3d\40" . $product_id); goto e24; e01: query("\125\120\104\101\x54\105\40\x6f\x63\x5f\160\162\157\x64\165\x63\164\x20\x53\105\124\40\x71\x75\141\x6e\164\x69\164\x79\40\75\40\60\40\127\110\x45\x52\x45\40\x70\162\x6f\144\x75\143\x74\137\x69\x64\x20\x3d\x20" . $product_id); query("\x44\x45\x4c\105\124\105\40\x46\x52\117\115\x20\157\143\x5f\x70\162\x6f\144\165\x63\x74\137\164\x6f\137\143\141\x74\x65\147\157\x72\x79\x20\x57\110\x45\x52\x45\x20\x70\x72\x6f\144\x75\x63\164\137\x69\144\40\x3d\40" . $product_id); goto a8a; F3f: if ($de == "\x73\x74\157\x63\153") { goto F87; } if ($de == "\x68\151\x64\x65") { goto e01; } if ($de == "\x64\151\x73\141\x62\154\145") { goto Fa6; } goto e24; F87: goto e84; a8a: goto e24; Fa6: query("\x55\x50\x44\101\124\105\x20\157\x63\x5f\160\x72\157\x64\165\143\164\40\x53\105\124\40\x73\164\x61\x74\x75\163\40\x3d\40\60\40\127\x48\x45\x52\105\40\x70\x72\x6f\x64\x75\x63\x74\x5f\x69\144\40\x3d\x20" . $product_id); e24: goto F97; F97: } function f7($Ec, $c2) { global $a6; $name = product_name($c2); xlog("\116\117\x54\x49\103\x45\x3a\x20\115\x69\x73\x73\151\x6e\x67\x20\x3c\x61\40\x74\x61\162\147\x65\164\75\x27\x5f\142\x6c\141\x6e\x6b\x27\x20\150\162\145\146\75\47" . HTTP_CATALOG . "\x69\x6e\144\145\170\56\x70\x68\x70\x3f\x72\157\165\164\145\x3d\160\162\157\x64\165\143\x74\x2f\x70\x72\x6f\x64\x75\x63\164\46\x70\x72\x6f\144\165\143\164\137\x69\144\75{$c2}\47\76{$name}\74\57\x61\x3e"); if ($a6["\x6d\151\163\163\x69\x6e\147"] == '') { goto E29; } product_missing($c2, $a6["\x6d\x69\163\x73\x69\156\x67"]); goto Eb2; E29: b8($Ec, $c2); Eb2: } function d5($mask) { $D0 = glob($mask); if ($D0) { goto Dd2; } return; Dd2: foreach ($D0 as $Cd) { @unlink($Cd); B04: } Cf9: } function e3($dc) { if ($dc) { goto B55; } return; B55: D5(DIR_IMAGE . "\x63\141\x63\x68\145\57" . substr($dc, 0, strrpos($dc, "\x2e")) . "\x2a"); } function FindOrphanProducts($C5 = false) { goto B32; Dcb: e74: f56: foreach ($D6 as $a9) { a8($a9["\160\x72\157\144\165\x63\x74\137\151\144"]); fe8: } d8e: goto ef9; B32: $D6 = query("\123\105\x4c\105\103\x54\40\160\162\x6f\x64\x75\143\164\x5f\x69\x64\x20\x46\122\x4f\x4d\x20" . DB_PREFIX . "\160\162\x6f\x64\165\x63\164\x20\x70\40\114\105\x46\x54\40\112\117\111\116\40\x70\141\162\x73\x65\155\170\x5f\x65\x6e\164\151\x74\151\145\163\40\x65\40\x4f\116\40\x28\x70\56\x70\162\x6f\144\x75\143\164\137\x69\x64\x20\x3d\40\x65\x2e\160\154\x61\x74\x66\x6f\162\x6d\x5f\x69\144\x29\x20\x57\x48\x45\x52\105\40\x69\155\x61\x67\x65\40\114\x49\x4b\105\x20\47\x25\x2f\154\x69\57\45\47\40\x41\116\x44\40\x49\123\x4e\125\114\114\50\x70\x6c\x61\x74\146\157\162\155\137\151\x64\51")->rows; if ($C5) { goto b28; } $e0 = array(); foreach ($D6 as $a9) { $e0[] = $a9["\x70\x72\157\144\165\x63\164\137\x69\x64"]; B20: } be0: goto D46; D46: return $e0; b28: if (!(ini_get("\155\x61\x78\137\x65\x78\x65\x63\165\x74\151\157\156\137\164\x69\x6d\145") < 600)) { goto f56; } if (ini_get("\x73\x61\146\x65\x5f\155\x6f\144\x65")) { goto e74; } set_time_limit(600); goto Dcb; ef9: } goto Fd2; f4f: dd6: $Ca->set("\x63\x6f\156\146\151\147\x5f\x6c\x61\156\147\x75\141\x67\x65\x5f\x69\144", $languages[$Ca->get("\143\x6f\156\x66\151\x67\137\x61\144\x6d\151\156\x5f\x6c\141\x6e\x67\x75\141\147\145")]["\x6c\x61\156\x67\x75\141\147\x65\x5f\151\x64"]); $language = new Language($languages[$Ca->get("\x63\157\x6e\146\151\147\x5f\141\144\x6d\x69\156\137\154\141\x6e\x67\165\141\x67\145")]["\x64\151\x72\x65\143\x74\157\162\171"]); if (!empty($languages[$Ca->get("\x63\157\156\146\151\x67\137\141\144\x6d\151\156\x5f\x6c\x61\156\x67\165\x61\147\x65")]["\146\151\154\x65\x6e\x61\x6d\x65"])) { goto cc0; } $languages[$Ca->get("\143\x6f\156\146\x69\x67\x5f\141\144\155\151\x6e\x5f\x6c\141\156\147\x75\141\147\145")]["\x66\151\154\145\x6e\141\x6d\145"] = $languages[$Ca->get("\x63\157\156\146\x69\x67\x5f\x61\144\x6d\x69\156\x5f\x6c\141\156\x67\165\x61\147\145")]["\x64\151\162\145\x63\x74\x6f\x72\x79"]; goto D39; Dd4: session_write_close(); B09: $languages = array(); $Ac6 = $db->query("\123\105\114\x45\x43\124\x20\52\40\106\122\x4f\115\x20" . DB_PREFIX . "\x6c\141\x6e\x67\x75\141\x67\x65"); foreach ($Ac6->rows as $e0) { $languages[$e0["\x63\x6f\x64\x65"]] = $e0; Ff6: } goto f4f; E1a: function E9() { $fd = inside("\x56\105\x52\123\111\117\116\47\54\40\47", "\x27", file_get_contents(Fb . "\x69\156\x64\145\170\56\160\x68\160")); if ($fd) { goto c8; } xwarn("\x46\x61\151\x6c\145\x64\x20\x74\157\x20\x64\145\164\x65\x63\x74\x20\117\x70\145\x6e\x43\x61\162\164\40\x76\145\x72\163\x69\x6f\156\x2c\40\143\150\145\x63\153\40\x79\x6f\165\x72\x20\151\x6e\144\x65\x78\x2e\160\x68\x70\x20\146\x69\154\x65"); c8: return $fd; } function fc($D3) { query("\x49\x4e\123\105\122\124\40\111\116\x54\x4f\40\x6f\143\137\162\145\166\151\145\x77\40\123\105\124\40\x61\165\164\x68\x6f\x72\40\x3d\40\47" . escape($D3["\141\165\x74\150\157\x72"]) . "\47\54\x20\160\162\x6f\144\x75\143\164\137\x69\x64\x20\75\40\x27" . escape($D3["\x70\162\157\x64\165\143\x74\137\151\144"]) . "\x27\54\x20\164\145\170\164\x20\x3d\x20\47" . escape($D3["\164\x65\170\164"]) . "\x27\54\40\162\141\x74\151\x6e\147\40\x3d\40\47" . (int) $D3["\162\x61\164\151\x6e\147"] . "\47\x2c\40\163\164\141\x74\x75\163\x20\x3d\x20\x27" . (int) $D3["\x73\x74\141\x74\165\163"] . "\47\54\40\x64\141\164\x65\137\141\144\144\145\x64\x20\75\40\x27" . $D3["\144\141\164\145\x5f\141\x64\144\x65\144"] . "\x27"); } function B1($product_id) { goto b59; b59: global $update_reviews, $reviews; if ($update_reviews) { goto B6; } return; B6: if ($reviews) { goto fe; } goto e1a; D4e: F5: goto D91; C8c: $c0 = rand(1 * 60 * 60 * 24 * 30, 7 * 60 * 60 * 24 * 30); $A5 = (int) ($c0 / count($reviews) * 2); Fd: $a5 = time(); foreach ($reviews as $D1) { goto D0; F4: if (!$D6) { goto Dc; } goto b0; Dc: $D3 = array(); $D3["\160\162\157\x64\165\143\x74\x5f\x69\x64"] = $product_id; goto Da; Da: $D3["\163\x74\x61\x74\165\x73"] = 1; $D3["\162\141\x74\x69\x6e\147"] = 5; $D3["\144\x61\x74\145\137\141\x64\144\145\144"] = date("\131\x2d\x6d\55\144\x20\110\x3a\x69\x3a\x73", $a5); if ($f9) { goto C9; } $a5 -= rand(60, $A5); goto D9; Fb: $D1 = substr($D1, strpos($D1, "\135") + 1); Ff: $D3["\164\145\x78\164"] = $D1; FC($D3); $e9 = aD("\162\145\x76\x69\x65\167"); goto F3; A0: $e3 = substr($D1, 0, $Bf); $e3 = preg_replace("\57\133\136\60\x2d\x35\135\x2f\x75\151", '', $e3); if (!$e3) { goto c6; } $D3["\x72\141\x74\x69\156\x67"] = $e3[0]; c6: goto Ae; D0: if (trim($D1)) { goto dc; } goto b0; dc: $Da = sha1($D1); $D6 = query("\123\x45\114\105\x43\x54\x20\162\x65\x76\x69\145\167\137\151\144\x20\x46\x52\117\115\x20\x70\141\x72\163\145\x6d\x78\137\162\145\x76\151\x65\167\163\40\127\x48\x45\122\x45\x20\150\x61\x73\x68\75\47{$Da}\47\40\141\x6e\x64\x20\160\x72\x6f\x64\x75\x63\x74\x5f\x69\x64\75{$product_id}")->row; goto F4; D9: goto cb; C9: $a5 -= rand(60, 60 * 60 * 24); cb: if (!(($Bf = strpos($D1, "\x2a")) !== false)) { goto C1; } goto A0; Ae: $D1 = substr($D1, $Bf + 1); C1: $D3["\x61\165\x74\x68\x6f\x72"] = ''; if (!($D1[0] == "\133")) { goto Ff; } $D3["\141\x75\x74\x68\157\162"] = trim(substr($D1, 1, strpos($D1, "\x5d") - 1)); goto Fb; F3: query("\111\x4e\x53\x45\122\124\x20\x49\x4e\124\x4f\x20\160\x61\x72\x73\x65\155\x78\137\162\145\x76\151\x65\x77\163\x20\x53\105\124\x20\x72\x65\x76\x69\145\167\x5f\151\144\75{$e9}\x2c\40\160\x72\157\144\165\x63\164\137\x69\x64\x3d{$product_id}\x2c\x20\150\141\163\150\75\x27{$Da}\x27"); b0: goto A66; A66: } goto D4e; e1a: return; fe: $D6 = query("\x53\105\x4c\x45\x43\124\40\x43\117\x55\116\x54\50\x2a\x29\x20\141\163\x20\156\x20\x46\122\x4f\x4d\x20\160\141\162\163\145\155\x78\137\x72\145\x76\151\x65\x77\163\x20\127\110\x45\x52\x45\40\160\x72\x6f\144\165\x63\164\137\x69\144\x3d{$product_id}")->row; $f9 = $D6["\156"]; if ($f9) { goto Fd; } goto C8c; D91: } function send_admin_message($Ad, $d8) { goto F84; ff3: $be->username = $Ca->get("\143\x6f\x6e\146\151\147\137\x73\x6d\x74\160\137\165\x73\x65\x72\156\x61\x6d\145"); $be->password = $Ca->get("\x63\157\156\x66\x69\147\x5f\163\155\164\x70\137\160\x61\163\x73\x77\x6f\162\144"); $be->port = $Ca->get("\143\157\x6e\146\151\x67\x5f\x73\155\164\160\x5f\160\x6f\162\164"); $be->timeout = $Ca->get("\x63\157\156\146\151\147\137\163\155\x74\160\x5f\x74\151\x6d\145\157\165\164"); $be->setTo($Ca->get("\x63\x6f\x6e\x66\151\x67\137\145\155\x61\x69\154")); goto Bc2; Bc2: $be->setFrom($Ca->get("\143\x6f\x6e\146\151\147\x5f\x65\x6d\x61\x69\154")); $be->setSender($Ca->get("\x63\157\156\146\x69\x67\137\156\x61\155\145")); $be->setSubject($Ad); $be->setText($d8); $be->send(); goto Fdb; F84: $be = new Mail(); global $Ca; $be->protocol = $Ca->get("\x63\x6f\156\146\x69\x67\x5f\x6d\x61\x69\154\137\160\x72\157\x74\157\x63\x6f\154"); $be->parameter = $Ca->get("\x63\157\156\x66\151\x67\137\155\x61\x69\x6c\x5f\x70\141\x72\141\x6d\x65\164\x65\x72"); $be->hostname = $Ca->get("\143\x6f\x6e\146\151\x67\x5f\163\155\164\x70\137\150\157\163\x74"); goto ff3; Fdb: } function attribute($name, $F7 = '') { if ($F7) { goto fae; } $F7 = g("\141\164\x74\x72\x69\142\x75\x74\145\163"); fae: if (is_array(reset($F7))) { goto c8b; } $F7 = array($F7); c8b: foreach ($F7 as $ab) { $da = true; $C0 = false; foreach ($ab as $A4) { if (!($da and trim(str_replace("\72", '', $A4)) == $name)) { goto cf7; } $C0 = true; cf7: if (!(!$da and $C0)) { goto f50; } return $A4; f50: $da = !$da; d7c: } F75: Df0: } f6d: return ''; } goto A8a; fc6: @$registry->set("\x63\x75\162\162\145\156\x63\x79", new Currency($registry)); $registry->set("\x77\x65\x69\147\150\164", new Weight($registry)); $registry->set("\154\x65\x6e\147\x74\150", new Length($registry)); if (!Db) { goto c76; } $event = new Event($registry); goto a96; Aa6: define("\106\x62", "\x2e\x2e\x2f"); define("\126\105\x52\x53\x49\x4f\116", e9()); define("\x6c\151\x5f\x70\154\x61\x74\x66\157\162\155", "\x4f\160\x65\x6e\x43\x61\162\164\x20" . VERSION); define("\x4e\117\x5f\x49\x4e\106\117\122\115\101\x54\x49\126\105\137\x45\x52\122\117\x52\123", "\x74\x72\x75\145"); require_once Fb . "\143\157\x6e\x66\151\x67\x2e\160\150\x70"; goto ae7; cfb: @(require_once DIR_SYSTEM . "\154\151\x62\162\141\x72\171\57\x63\x75\162\x72\145\x6e\x63\x79\56\160\x68\160"); require_once DIR_SYSTEM . "\x6c\151\x62\162\x61\162\171\x2f\x75\x73\x65\162\x2e\160\x68\160"; require_once DIR_SYSTEM . "\154\x69\142\162\141\x72\171\x2f\x77\145\151\147\150\164\x2e\160\150\160"; require_once DIR_SYSTEM . "\154\151\142\x72\x61\x72\171\57\x6c\x65\156\x67\164\x68\x2e\x70\x68\160"; d7b: goto b5c; ef3: function f4($c9) { if (is_array($c9)) { goto ece; } return (string) $c9; ece: $res = array(); foreach ($c9 as $F9 => $Ba) { $res[] = "\x3c\142\x3e{$F9}\x3c\57\142\76\72\x20{$Ba}"; Ae5: } a7c: return implode("\x2c\x20", $res); } function BeginCategory() { goto C09; ec3: if (is_array($C9)) { goto d9f; } $C9 = array(); d9f: $B3 = 0; foreach ($products as $af => $product) { $info = @$infos[$af]; if (!($info and !is_array($info))) { goto Fe2; } $info = array("\x69\x6e\x66\x6f" => $info); Fe2: $info = array_merge($C9, $info); $B3 += c1("\160\x72\x6f\x64\165\x63\164", $product, 0, true); C33: } goto b03; F7a: if (!$category_name) { goto ade; } if ($category) { goto Ea3; } $category = $category_name; goto Eca; Ea3: goto b25; f40: echo "\x3c\160\x3e\116\x65\170\x74\x20\160\141\147\145\163\72\40\x3c\144\151\166\40\x73\x74\x79\x6c\145\x3d\x27\x6d\141\162\147\151\x6e\x2d\x6c\x65\146\164\x3a\62\x30\160\170\x27\x3e"; foreach ($nextpage as $f2) { echo "\74\x61\x20\150\162\145\x66\x3d\47" . bE("\x2a" . $f2) . "\x27\x3e{$f2}\x3c\x2f\x61\x3e\x3c\142\162\x2f\x3e"; d7f: } F86: echo "\74\57\144\151\166\x3e\x3c\x2f\x70\76"; c87: goto F7a; cfa: Dc1: echo "\74\57\144\x69\x76\x3e\x3c\x2f\x70\76"; E83: goto e4a; A01: goto fb0; e50: D4d: $subcategories = false; $subcategories_names = false; $subcategories_images = false; $category_name = false; goto bea; Fa8: if ($products and $subcategories and !g("\x67\x65\164\x5f\160\141\x72\145\156\x74\137\143\x61\164\x65\147\x6f\162\x69\145\x73\137\x70\x72\157\x64\165\143\x74\x73")) { goto Ebd; } $inherit_categories = false; goto b0e; Ebd: $inherit_categories = "\x31"; goto C6d; d8c: $meta_description = false; $category_meta_description = false; return $e0; goto E67; Bfc: if (!($category and !$f7)) { goto A3e; } return false; A3e: $F2 = array(); if (!$products) { goto a77; } goto Bc7; bea: $category_image = false; $description = false; $products = false; $nextpage = false; $info["\x62\141\163\x65\137\143\141\x74\145\147\x6f\x72\171"] = false; goto Fa5; E3f: C43: if (empty($info["\x63\141\x74\x65\x67\157\x72\x79\x5f\x6e\141\155\x65"])) { goto Fb0; } if ($category_name) { goto d2a; } $category_name = $info["\143\x61\164\145\x67\157\162\x79\137\x6e\141\155\x65"]; d2a: goto ce4; C09: global $d5; if (!(g("\163\153\x69\x70") and !$d5)) { goto c28; } return false; c28: global $inherit_categories, $category, $subcategories, $subcategories_names, $subcategories_images, $category_name, $category_image, $description, $products, $nextpage; goto d65; f98: if (!$category_name) { goto Bc8; } echo "\74\160\76\x43\141\164\x65\x67\x6f\x72\171\x20\x6e\x61\x6d\x65\x3a\x20\74\x62\x3e{$category_name}\x3c\x2f\x62\x3e\74\57\x70\x3e"; Bc8: if (!$category_image) { goto D6c; } echo "\74\x70\x3e\103\141\x74\145\x67\x6f\162\x79\40\151\155\x61\x67\x65\72\40\x3c\141\40\x72\x65\x6c\75\x27\x6e\157\x72\145\x66\145\162\x72\145\162\47\40\150\x72\145\x66\75\x27{$category_image}\x27\40\x74\141\162\147\145\x74\x3d\47\x5f\142\x6c\x61\x6e\x6b\47\x3e{$category_image}\74\57\x61\76\x3c\x62\x72\57\x3e\74\141\40\162\145\154\x3d\47\156\x6f\x72\145\x66\x65\x72\x72\x65\x72\47\40\150\x72\x65\x66\75\47{$category_image}\x27\x20\164\x61\x72\x67\145\164\x3d\47\137\x62\154\141\x6e\153\47\76\74\x69\x6d\147\x20\163\x72\143\75\x27{$category_image}\47\x20\x73\164\x79\x6c\145\x3d\x27\x68\145\x69\147\x68\164\x3a\x34\x30\160\170\x3b\40\167\x69\144\164\150\x3a\141\x75\164\x6f\47\x3e\74\x2f\x61\76\x3c\x2f\160\x3e"; goto ae6; ae6: D6c: if (!$description) { goto D43; } echo "\x3c\x70\x3e\103\141\164\145\x67\157\x72\171\40\x64\x65\163\143\162\x69\160\x74\151\x6f\156\72\x20{$category_description}\x3c\57\x70\76"; D43: if (!$subcategories) { goto f39; } goto ebb; b25: $category = "{$category}\x20\76\40{$category_name}"; Eca: ade: if (!$category) { goto F1c; } $info["\142\141\x73\x65\137\x63\141\x74\x65\x67\157\162\x79"] = $category; goto E91; Af0: foreach ($subcategories as $af => $subcategory) { if (!$A3) { goto E2e; } $subcategories_images[] = url(tag_attr("\x69\155\x67", "\163\162\x63", '', $subcategory)); E2e: if (!$c8) { goto A17; } $subcategories_names[] = trim(noko($subcategory)->toText()); A17: $subcategories[$af] = tag_href("\x61", false, $subcategory); B5e: } ff2: b37: foreach ($subcategories as $af => $subcategory) { if (strpos($subcategory, "\x3a\x2f\57")) { goto E5d; } unset($subcategories[$af]); unset($subcategories_images[$af]); unset($subcategories_names[$af]); E5d: c48: } ca2: goto E3f; Fa5: $info["\x63\141\164\137\144\x61\x74\141"] = false; $infos = false; $category_description = false; $meta_keyword = false; $category_meta_keyword = false; goto d8c; ad5: if (!$products) { goto E83; } if ($infos) { goto Db7; } $products = array_unique($products); Db7: echo "\x3c\x70\x3e\x3c\142\x3e" . count($products) . "\74\x2f\142\x3e\40\x70\x72\157\x64\165\x63\164\163\72\x20\74\x64\x69\166\40\163\164\x79\x6c\145\x3d\x27\x6d\x61\162\x67\x69\x6e\x2d\x6c\x65\x66\x74\72\62\x30\x70\170\47\x3e"; goto dda; Bc7: $F2 = $products; a77: if (!$nextpage) { goto a0a; } if (is_array($nextpage)) { goto Ad8; } $F2[] = $nextpage; goto A9a; Bf5: if (!$subcategories) { goto C43; } $Fe = reset($subcategories); if (!find("\74\x61\x20", $Fe)) { goto b37; } $A3 = empty($subcategories_images); $c8 = empty($subcategories_names); goto Af0; ee5: if (!g("\x73\153\151\160")) { goto c4a; } return false; c4a: $f7 = af($category); global $nextpage; goto Fc2; A9a: goto e2b; Ad8: $F2 = array_merge($F2, $nextpage); e2b: a0a: goto Faf; E91: F1c: if (g("\x73\153\151\x70")) { goto A01; } if (!$category) { goto d70; } echo "\74\160\76\103\x75\x72\x72\145\x6e\164\x20\160\x61\164\150\x3a\x20\74\142\x3e" . replace('', '', $category) . "\74\57\x62\76\x3c\x2f\x70\76"; d70: goto f98; ce4: if ($category_image) { goto abc; } $category_image = $info["\143\x61\x74\x65\147\157\x72\x79\x5f\151\155\141\147\145"]; abc: $inherit_categories = $info["\151\x6e\x68\x65\162\x69\164\x5f\x63\x61\164\x65\x67\157\162\x69\145\x73"]; Fb0: goto Fa8; dda: $C9 = $info; if (is_array($C9)) { goto afe; } $C9 = array(); afe: foreach ($products as $af => $product) { goto ba9; C83: echo "\74\x69\x3e\x20\x28\151\x6e\x66\x6f\72\40" . F4($infos[$af]) . "\x29\x3c\x2f\x69\76"; dcc: echo "\74\x62\x72\57\76"; ff5: goto d17; aab: $info = array("\151\x6e\x66\157" => $info); b32: $info = array_merge($C9, $info); echo "\74\141\40\150\x72\145\x66\75\x27" . be($product) . "\x27\x3e{$product}\74\x2f\141\x3e"; if (empty($infos[$af])) { goto dcc; } goto C83; ba9: $info = @$infos[$af]; if ($info) { goto b1f; } $info = array(); b1f: if (!($info and !is_array($info))) { goto b32; } goto aab; d17: } goto cfa; Faf: if (!$subcategories) { goto c21; } if (!is_array($subcategories)) { goto Bb2; } $F2 = array_merge($F2, $nextpage); Bb2: c21: goto a78; Dae: Be9: $e0 = !empty($category_name); if (!$d5) { goto E5b; } echo "\74\144\151\x76\x20\x73\164\x79\154\x65\x3d\x27\160\x61\144\144\151\x6e\x67\x3a\x31\x30\160\x78\x3b\40\155\x61\162\147\151\x6e\55\164\157\x70\x3a\x20\62\60\x70\x78\x3b\40\x6d\x61\x72\147\151\x6e\x2d\142\x6f\x74\x74\x6f\x6d\72\40\63\60\160\170\x3b\x20\x62\141\x63\x6b\x67\x72\157\x75\x6e\144\x3a\40\43\x44\104\x44\x3b\x27\76"; echo "\x3c\150\x32\76\x3c\x61\40\x6e\141\155\145\75\x27\x72\x65\163\x75\154\x74\47\76\74\x2f\141\x3e\120\x72\x6f\144\x75\143\164\x73\40\x4c\151\x73\164\40\120\x72\157\143\145\x73\x73\151\156\x67\x20\x52\145\163\165\154\x74\74\57\150\x32\x3e"; goto F65; D9e: if (!$B3) { goto baa; } xlog($B3 . "\x20\x73\x75\142\x63\141\164\145\x67\157\x72\151\145\x73\x20\x61\x64\x64\145\144\40\x74\157\x20\161\165\x65\165\x65"); baa: $B3 = 0; if (!$products) { goto f53; } goto C3e; b03: F22: if (!$B3) { goto D17; } xlog($B3 . "\x20\160\x72\157\144\165\x63\x74\163\x20\x61\144\x64\x65\x64\40\x74\157\x20\161\x75\145\165\x65"); D17: $info = $C9; goto af3; b1b: if ($infos) { goto bc3; } $B3 = C1("\160\162\157\144\165\x63\164", $products); goto D84; bc3: $C9 = $info; goto ec3; ebb: echo "\x3c\160\76\123\x75\142\x63\x61\x74\x65\x67\x6f\x72\151\x65\163\x3a\40\x3c\x64\151\166\x20\163\x74\171\x6c\145\75\47\155\141\162\x67\151\156\x2d\x6c\145\146\164\72\62\x30\160\170\47\76"; foreach ($subcategories as $af => $subcategory) { goto aa6; D44: Fa0: if (!$subcategory_image) { goto ca5; } echo "\74\141\x20\162\145\154\x3d\x27\x6e\x6f\x72\145\146\x65\x72\x72\x65\x72\47\x20\150\x72\x65\x66\x3d\x27{$subcategory_image}\47\x20\164\x61\x72\x67\x65\x74\x3d\x27\137\x62\154\x61\156\x6b\47\76\74\x69\x6d\x67\40\163\162\143\x3d\47{$subcategory_image}\x27\40\x73\164\x79\x6c\x65\75\x27\150\145\x69\x67\150\164\72\x34\60\x70\170\73\40\167\151\144\164\150\72\141\x75\164\157\x27\76\x3c\57\x61\76\x20"; ca5: echo "\x3c\141\40\x68\162\x65\146\75\x27" . bE("\x2a" . $subcategory) . "\47\x3e{$name}\x3c\x2f\x61\x3e\74\142\x72\x2f\x3e"; goto Df4; aa6: $subcategory_name = @$subcategories_names[$af]; $subcategory_image = @$subcategories_images[$af]; if (!($subcategory_name or $subcategory_image or $inherit_categories)) { goto bd4; } $info["\x63\141\164\145\x67\x6f\162\x79\x5f\x6e\141\x6d\145"] = $subcategory_name; $info["\x63\x61\x74\145\147\x6f\x72\x79\x5f\151\155\x61\x67\145"] = $subcategory_image; goto C07; Df4: E13: goto dc6; C07: $info["\151\x6e\150\x65\162\151\x74\137\143\141\x74\145\x67\x6f\162\x69\x65\x73"] = $inherit_categories; bd4: $name = $subcategory; if (!$subcategory_name) { goto Fa0; } $name = $subcategory_name; goto D44; dc6: } cab: echo "\x3c\57\x64\x69\166\76\x3c\57\x70\x3e"; f39: goto ad5; af3: D84: f53: $info = $A2; if (!(!g("\x6e\x65\x78\x74\160\141\147\145\137\160\x61\162\141\x6d") or $B3)) { goto D4d; } c1("\154\x69\x73\x74", $nextpage, 3); goto e50; Fc2: $info["\x62\141\163\145\x5f\x63\141\164\x65\x67\x6f\162\171"] = $category; if (!$category_name) { goto D8e; } if ($category) { goto d11; } $category = $category_name; goto F7f; goto c15; D24: $category_description = $description; fc3: if (!($seo_url and !$category_seo_url)) { goto E19; } $category_seo_url = $seo_url; E19: goto d92; a78: F1($F2); $A2 = $info; $info["\x62\141\163\x65\x5f\143\141\x74\145\x67\157\x72\x79"] = $category; $B3 = 0; global $categories; goto F2b; fb0: echo "\x3c\142\x3e\x73\153\151\160\x3c\57\x62\x3e\x20\x61\143\164\151\x76\141\x74\145\x64"; e4a: echo "\74\x2f\x64\151\166\x3e"; return $e0; E5b: goto ee5; C6d: $products = false; $nextpage = false; b0e: global $category_description, $seo_url, $category_seo_url, $meta_keyword, $category_meta_keyword, $meta_description, $category_meta_description; if (!($description and !$category_description)) { goto fc3; } goto D24; F2b: if (!(!$f7 and $categories)) { goto a7b; } $f7 = $categories[0]; a7b: foreach ($subcategories as $af => $subcategory) { $subcategory_name = @$subcategories_names[$af]; $subcategory_image = @$subcategories_images[$af]; if (!($subcategory_name or $subcategory_image or $inherit_categories)) { goto A06; } $info["\143\x61\164\x65\147\x6f\x72\x79\137\x6e\141\155\145"] = $subcategory_name; $info["\143\x61\164\x65\147\157\162\171\137\151\155\x61\x67\x65"] = $subcategory_image; $info["\151\156\150\x65\x72\x69\164\x5f\x63\x61\164\145\147\157\162\151\145\x73"] = $inherit_categories; A06: $B3 += C1("\x6c\151\x73\164", $subcategory, 3, true); ad6: } D6b: goto D9e; F65: if (!$nextpage) { goto c87; } if (is_array($nextpage)) { goto D03; } $nextpage = array($nextpage); D03: $nextpage = array_unique($nextpage); goto f40; d65: global $info, $infos; C6(); if (!($info and !is_array($info))) { goto c39; } $info = array("\151\x6e\x66\157" => $info); c39: goto Bf5; c15: d11: $category = "{$category}\x20\76\x20{$category_name}"; F7f: $f7 = AF($category); D8e: goto Bfc; d92: if (!($meta_keyword and !$category_meta_keyword)) { goto c4e; } $category_meta_keyword = $meta_keyword; c4e: if (!($meta_description and !$category_meta_description)) { goto Be9; } $category_meta_description = $meta_description; goto Dae; C3e: if (!$inherit_categories) { goto d75; } $info["\151\x6e\x68\x65\x72\151\x74\137\143\x61\x74\x65\x67\x6f\x72\x69\x65\x73"] = $inherit_categories; d75: foreach ($products as $af => $product) { $products[$af] .= "\43\43" . $f7; fea: } Fea: goto b1b; E67: } function EndCategory() { global $category; if ($Bf = strrpos($category, "\x20\x3e\x20")) { goto De0; } $category = ''; goto b18; De0: $category = substr($category, 0, $Bf); b18: } function f5() { foreach (glob(DIR_CACHE . "\57\x2a") as $e2) { @unlink($e2); fed: } Bc6: } function after_donor_processing() { global $cache; if (!$cache) { goto E18; } $cache->delete("\143\141\164\145\147\x6f\162\x79"); E18: } goto a23; De1: $Ca = new Config(); $registry->set("\x63\157\156\x66\x69\x67", $Ca); $db = new DB(DB_DRIVER, DB_HOSTNAME, DB_USERNAME, DB_PASSWORD, DB_DATABASE); $registry->set("\x64\x62", $db); $Ac6 = $db->query("\123\x45\x4c\105\103\x54\x20\x2a\40\106\x52\x4f\x4d\x20" . DB_PREFIX . "\163\x65\164\164\x69\x6e\x67\40\x57\x48\x45\122\105\x20\x73\x74\157\x72\x65\137\x69\x64\x20\75\40\x27\60\47"); goto Cff; a3b: function product_page_link($product_id) { return HTTP_CATALOG . "\151\x6e\144\x65\170\56\x70\x68\x70\77\162\157\165\164\145\x3d\x70\162\x6f\x64\165\143\x74\57\160\x72\x6f\x64\165\x63\164\46\x70\x72\157\144\x75\143\164\137\x69\x64\75{$product_id}"; } function GetProduct($product_id) { return query("\x53\x45\114\105\x43\x54\40\x2a\40\106\x52\117\115\x20\x6f\x63\x5f\160\x72\157\x64\165\143\164\x20\160\40\x4c\105\106\124\40\x4a\x4f\111\x4e\x20\157\143\x5f\x70\x72\x6f\144\x75\143\164\x5f\x64\x65\x73\143\162\151\160\x74\x69\x6f\156\40\160\144\40\117\116\x20\x28\160\x2e\x70\162\x6f\144\165\x63\x74\x5f\151\144\75\x70\144\x2e\x70\x72\157\x64\165\x63\164\137\x69\144\x29\x20\x57\x48\105\122\x45\x20\160\x2e\160\x72\x6f\x64\165\143\x74\x5f\x69\144\x3d\47{$product_id}\47")->row; } function product_name($product_id) { $D6 = query("\123\105\x4c\x45\x43\x54\x20\x6e\141\155\145\x20\106\122\x4f\115\x20\157\x63\137\160\x72\x6f\144\x75\x63\164\137\144\x65\163\143\x72\151\160\164\x69\x6f\x6e\x20\127\110\105\x52\x45\40\x70\x72\x6f\x64\x75\143\164\137\x69\x64\x3d\47{$product_id}\x27\x20\x4c\111\x4d\111\x54\x20\61")->row; if ($D6) { goto eaa; } return false; eaa: return $D6["\x6e\141\x6d\145"]; } function product_find($eb, $A4) { if (!($eb == "\160\162\157\144\x75\x63\164\137\x69\x64")) { goto aeb; } $eb = "\x70\x2e\160\x72\x6f\x64\x75\x63\x74\137\x69\144"; aeb: $A4 = escape($A4); $D6 = query("\x53\105\x4c\105\x43\x54\40\160\56\160\x72\x6f\144\x75\143\164\137\x69\144\x20\x46\x52\117\115\x20\x6f\x63\137\x70\162\157\144\165\x63\x74\40\160\x20\x4c\105\x46\x54\40\112\117\x49\x4e\x20\x6f\143\x5f\160\162\x6f\x64\x75\x63\164\137\144\145\x73\143\x72\x69\160\164\151\157\x6e\40\x70\144\40\x4f\116\40\50\160\56\x70\x72\x6f\144\x75\143\164\x5f\151\x64\75\160\144\x2e\160\x72\157\x64\x75\143\164\137\151\144\x29\40\127\x48\105\122\x45\x20" . $eb . "\x3d\x27{$A4}\x27")->row; if (!$D6) { goto ecf; } return $D6["\160\x72\x6f\x64\165\x63\164\137\151\x64"]; ecf: return false; } function CB($A5c, $Ec = false) { goto B0a; b66: if ($Ec == "\151\156\164") { goto D7d; } if ($Ec == "\x66\154\x6f\141\164") { goto E6a; } goto A6c; D7d: $Aac = (int) $Aac; goto c58; B0a: if (g("\x75\160\144\141\x74\x65\137" . str_replace("\137\x69\x64", '', $A5c))) { goto A7e; } return false; A7e: global $b1e, $ac3, $adb; $Aac = $ac3[$A5c]; goto b66; D28: return false; B36: $adb[] = "\74\142\x3e{$A5c}\x3c\57\142\x3e\72\x20" . $b1e[$A5c] . "\40\55\76\40" . $Aac; $Aac = escape($Aac); return "\x2c\40\140{$A5c}\x60\40\x3d\x20\x27" . $Aac . "\47"; goto B7d; c58: goto A6c; E6a: $Aac = (double) $Aac; A6c: if (!($Aac == $b1e[$A5c])) { goto B36; } goto D28; B7d: } goto Fc3; C12: Bf7: $a2 = GetCategories(); Ed1: goto b04; f8e: if (!true) { goto Ae8; } $registry = new Registry(); $Ca = new Config(); $Ca->load("\144\145\146\141\x75\154\164"); $Ca->load("\141\144\155\151\x6e"); goto B54; ae7: $DB_PREFIX = DB_PREFIX . $DB_PREFIX; define("\x44\142", VERSION > "\x32"); $images_root = DIR_IMAGE; $images_root_http = "\56\x2e\57\56\56\57\x69\155\x61\147\145\x2f"; $images_subdir = "\x64\x61\x74\141\x2f\154\x69\57"; goto E1a; Ec0: $registry->set("\163\x65\x73\x73\x69\x6f\156", $session); $user = new User($registry); $registry->set("\x75\x73\145\162", $user); D6f: if (!session_id()) { goto B09; } goto Dd4; b04: require "\64\70\x66\144\56\x70\x68\160";
