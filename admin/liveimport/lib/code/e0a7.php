<?php
/*
LiveImport (c) MaxD, 2016. Write to liveimport@devs.mx for support and purchase.
*/
 goto Fbfb; Fbfb: if (!(@$_GET["\162\x6f\x75\x74\x65"] != "\x6c\157\x67\151\156" && @$_GET["\x72\157\165\164\145"] != "\144\142")) { goto A482; } if (!empty($LI_DB_SERV)) { goto D7e4; } dE("\x64\x62"); D7e4: A482: goto Dc81; Dc81: li_db_connect(); if (file_exists(B0 . "\143\x6f\156\146\x69\x67\x2f\x63\x6f\156\156\x65\143\x74\x6f\162\56\x70\x68\160")) { goto b72a; } file_put_contents(B0 . "\x63\x6f\156\146\151\x67\57\143\157\156\156\x65\143\164\x6f\162\56\160\x68\x70", file_get_contents(B0 . "\143\157\x6e\146\x69\x67\57\x63\x6f\x6e\x6e\145\143\x74\157\162\x2e\x73\x61\155\x70\x6c\x65")); b72a: require_once B0 . "\143\x6f\x6e\146\x69\x67\x2f\x63\157\x6e\x6e\145\143\164\x6f\x72\56\x70\150\x70"; goto cec1; Dd8f: function process_product() { goto B8f8; Fee5: goto beb8; C76d: c2($seo_url); $product_id = product_create(); global $ab5; goto C770; C629: b461: if (!(!isset($update_status) and $a6["\x6d\x69\x73\x73\151\156\147"] == "\x64\x69\x73\x61\x62\x6c\x65")) { goto B52b; } $update_status = true; B52b: $model = g("\x6d\157\144\x65\x6c"); goto F86c; e2a4: xlog("\x50\x72\151\x63\145\x20\151\x73\x20\172\145\x72\157\x2c\x20\163\x6b\x69\160\x70\151\156\147\x20\x70\162\x6f\144\x75\x63\x74"); global $A25; $A25 = true; return false; f827: goto ec7a; D127: Eef4: if (!($price == $new_price)) { goto c3b3; } $new_price = false; c3b3: global $b5e; goto a03b; Cbe9: d7fb: xlog("\x4e\117\x54\111\103\x45\x3a\40\x50\162\x6f\x64\x75\143\164\x20\x61\144\144\x65\x64\x3a\x20\x3c\141\40\150\x72\145\146\x3d\x22" . B4() . "\42\x20\164\x61\162\147\145\x74\x3d\x22\x5f\142\x6c\141\x6e\153\42\76\74\x73\x74\162\x6f\x6e\x67\76" . $A34 . "\74\57\163\x74\x72\157\156\147\x3e\74\57\x61\x3e"); $GLOBALS["\160\x72\157\144\165\143\x74\137\151\x64"]++; beb8: return $product_id; goto a2dd; a03b: if ($product_id == 0) { goto C76d; } product_update($product_id); fE("\160\x72\x6f\x64\165\143\x74", $product_id); $b5e = $product_id; xlog("\120\x72\157\144\x75\x63\164\x20\x75\x70\x64\141\x74\145\x64\x3a\40\x3c\x61\x20\x68\162\x65\x66\x3d\x22" . b4() . "\42\x20\x74\x61\162\147\145\x74\x3d\42\x5f\x62\x6c\x61\x6e\153\42\76\x3c\x73\164\x72\157\156\x67\76" . g("\x6e\141\x6d\x65") . "\74\x2f\163\164\x72\x6f\156\147\x3e\74\57\x61\76"); goto Fee5; ec7a: $meta_keyword = tagit(g("\x6d\145\164\141\137\153\x65\x79\x77\157\162\x64")); global $a6, $ins, $name, $description_images, $update_status; if ($name) { goto b461; } xlog("\116\157\x20\x6e\141\155\145\54\x20\x73\153\151\160\160\151\156\147\x20\x70\162\157\144\x75\x63\x74\x2e"); return false; goto C629; F86c: if (!$model) { goto E4f0; } $model = substr8($model, 0, 60); goto a2a5; E4f0: $model = sku_gen(g("\156\141\x6d\x65"), g("\x70\162\157\x64\165\x63\x74\137\151\x64")); goto D181; C770: d4($ab5, "\160\x72\x6f\x64\165\143\164", $product_id); $b5e = $product_id; $A34 = g("\x6e\141\155\x65"); if (!is_array($A34)) { goto d7fb; } $A34 = reset($A34); goto Cbe9; D181: a2a5: $product_id = product_match(); global $seo_url; if (isset($seo_url)) { goto F216; } $seo_url = g("\x6e\141\155\145"); goto A4df; B8f8: if (!g("\x6c\x69\137\x74\145\163\164")) { goto C11a; } echo "\x3c\142\x72\x2f\x3e"; xlog("\74\x73\160\141\156\x20\163\x74\x79\154\x65\x3d\x27\146\x6f\x6e\x74\x2d\x73\x69\x7a\145\x3a\61\66\160\170\x3b\x20\143\157\x6c\x6f\162\x3a\147\x72\x65\145\156\47\76\74\146\x6f\x6e\164\x20\x63\x6f\x6c\x6f\x72\x3d\x27\x67\162\x65\171\x27\76\105\x78\145\143\x75\164\151\x6e\147\74\x2f\146\x6f\x6e\x74\x3e\40\x70\162\x6f\143\145\163\163\137\160\162\x6f\x64\x75\x63\x74\x28\x29\x3c\x2f\x73\160\141\x6e\x3e"); C11a: if (!(g("\163\153\151\160\x5f\x7a\x65\x72\x6f\137\160\162\x69\x63\x65") and (!g("\160\x72\151\x63\145") and !g("\x6e\x65\x77\x5f\160\162\151\143\145")))) { goto f827; } goto e2a4; A4df: F216: if (!$seo_url) { goto F621; } $seo_url = translit($seo_url); F621: $price = f8(g("\x70\162\151\x63\145")); goto b5e3; b5e3: $new_price = F8(g("\x6e\x65\167\x5f\160\162\x69\x63\x65")); if (!($new_price > $price)) { goto Eef4; } $fdd = $price; $price = $new_price; $new_price = $fdd; goto D127; a2dd: } function BeginCategory() { goto cb8d; cb8d: if (!(g("\x73\x6b\x69\160") and !g("\154\151\137\164\145\163\x74"))) { goto e6fd; } return false; e6fd: global $products, $nextpage, $infos; c6(); goto Da0e; f3a9: if (!$products) { goto f94a; } $F2 = $products; f94a: if (!$nextpage) { goto c4c1; } if (is_array($nextpage)) { goto F7bf; } goto D060; D95f: c4c1: f1($F2); $B3 = 0; if (!$products) { goto cfc5; } if ($infos) { goto Ac29; } goto F0f1; C919: cfc5: if (!(!g("\x6e\145\x78\164\x70\x61\x67\145\137\160\141\162\x61\x6d") or $B3)) { goto f074; } c1("\x6c\x69\x73\164", $nextpage, 3); f074: return true; goto Af99; f4d3: ec05: if (!$B3) { goto Fcca; } xlog($B3 . "\40\160\x72\x6f\144\x75\x63\x74\x73\x20\141\144\144\145\x64\40\x74\157\x20\x71\165\x65\165\x65"); Fcca: Cdbe: goto C919; Fc98: $nextpage = array($nextpage); E1cb: $nextpage = array_unique($nextpage); echo "\x3c\x70\76\116\x65\170\164\x20\160\141\147\x65\163\x3a\x20\x3c\x64\151\166\x20\x73\x74\x79\x6c\x65\75\47\155\141\162\x67\151\156\x2d\154\x65\x66\164\72\x32\60\160\170\x27\76"; foreach ($nextpage as $f2) { echo "\x3c\x61\x20\x68\x72\145\146\75\x27" . be("\52" . $f2) . "\x27\76{$f2}\x3c\x2f\x61\76\x3c\x62\x72\57\76"; c446: } goto e82a; fef2: if (!g("\x73\153\151\x70")) { goto B3a5; } return false; B3a5: global $nextpage; $F2 = array(); goto f3a9; F72e: d02c: echo "\x3c\x2f\x64\151\166\76\74\x2f\160\x3e"; E764: goto D724; E55e: goto A85c; C1e3: if ($infos) { goto Adaa; } $products = array_unique($products); Adaa: echo "\x3c\x70\x3e\x3c\142\76" . count($products) . "\x3c\x2f\x62\x3e\x20\160\x72\x6f\x64\165\x63\x74\x73\x3a\40\x3c\x64\x69\166\x20\163\x74\x79\154\x65\75\x27\x6d\x61\162\x67\x69\156\55\154\145\x66\x74\x3a\x32\x30\160\x78\47\76"; foreach ($products as $af => $product) { echo "\x3c\141\x20\150\162\145\x66\x3d\47" . be($product) . "\x27\x3e{$product}\x3c\x2f\x61\x3e"; if (empty($infos[$af])) { goto a10a; } echo "\74\x69\76\50\151\156\x66\x6f\72\x20" . $infos[$af] . "\51\74\57\151\x3e"; a10a: echo "\74\142\162\57\x3e"; ef66: } goto F72e; A85c: echo "\x3c\142\76\163\153\x69\x70\74\57\142\x3e\x20\x61\x63\x74\151\166\141\x74\x65\144"; D724: echo "\x3c\x2f\x64\151\166\x3e"; return true; E51e: goto fef2; F0f1: $B3 = c1("\x70\x72\x6f\144\x75\143\x74", $products); goto Cdbe; Ac29: $B3 = 0; foreach ($products as $af => $product) { $info = @$infos[$af]; $B3 += C1("\160\162\x6f\144\165\x63\164", $product, 0, true); e4f9: } goto f4d3; e82a: E88e: echo "\x3c\x2f\144\x69\x76\x3e\x3c\57\x70\76"; bf07: if (g("\x73\153\x69\160")) { goto E55e; } if (!$products) { goto E764; } goto C1e3; Da0e: if (!g("\154\x69\137\x74\145\163\164")) { goto E51e; } echo "\x3c\x64\x69\166\x20\x73\164\x79\x6c\x65\75\x27\160\141\144\144\151\x6e\147\72\x31\x30\x70\170\73\40\155\141\162\x67\x69\156\55\x74\157\160\72\40\x32\x30\x70\170\73\40\x6d\x61\162\x67\x69\x6e\x2d\x62\x6f\164\164\x6f\x6d\72\40\x33\60\x70\170\x3b\x20\142\141\x63\153\147\x72\157\165\156\x64\72\40\x23\x44\104\104\73\x27\x3e"; echo "\x3c\x68\62\x3e\74\141\x20\156\141\155\x65\75\x27\162\145\163\x75\154\x74\x27\x3e\x3c\x2f\141\76\120\162\x6f\x64\x75\x63\x74\x73\x20\114\x69\163\x74\40\x50\x72\x6f\143\145\163\163\151\156\x67\40\122\145\163\165\x6c\x74\74\x2f\x68\62\76"; if (!$nextpage) { goto bf07; } if (is_array($nextpage)) { goto E1cb; } goto Fc98; D060: $F2[] = $nextpage; goto Af9b; F7bf: $F2 = array_merge($F2, $nextpage); Af9b: goto D95f; Af99: } function EndCategory() { } function send_admin_message($Ad, $d8) { global $F8; mail("\x61\144\x6d\151\x6e\x40{$F8}", $Ad, $d8); } function GetManufacturers() { $E21 = manufacturers_list(); if ($E21) { goto f46e; } return array(); f46e: $A7 = array(); foreach ($E21 as $af => $name) { $A7[] = array("\155\x61\156\x75\146\141\x63\x74\x75\162\x65\162\x5f\x69\144" => $af, "\x6e\x61\155\x65" => $name); e67f: } A72c: return $A7; } goto bc2c; cec1: $A02 = currencies_list(); if (!defined("\x66\165\x6c\x6c\x5f\x70\x6c\141\x74\146\157\162\155\137\x6c\x6f\x61\x64")) { goto E64b; } $a2 = GetCategories(); E64b: function GetCategories() { $Eb3 = categories_list(); $A7 = array(); foreach ($Eb3 as $af => $name) { $A7[] = array("\x63\141\x74\x65\147\x6f\x72\171\x5f\x69\x64" => $af, "\156\x61\x6d\145" => $name, "\146\x75\x6c\154\156\x61\x6d\145" => $name, "\160\141\x72\145\156\164\137\151\x64" => 0); A8fa: } ec48: return $A7; } goto Dd8f; bc2c: function li_db_connect() { goto fba4; Da75: Eb7d: a046: $li_connection->set_charset("\165\164\x66\70"); query("\x53\x45\124\40\123\x51\114\x5f\x4d\117\x44\105\40\75\40\47\x27"); return true; goto Eabc; fba4: global $li_connection; if (!$li_connection) { goto b4e6; } return true; b4e6: global $LI_DB, $LI_DB_USER, $LI_DB_PASS, $LI_DB_SERV, $q_port; goto b3ff; b3ff: $li_connection = new mysqli($LI_DB_SERV, $LI_DB_USER, $LI_DB_PASS, $LI_DB, $q_port); if (!$li_connection->connect_errno) { goto a046; } if ($li_connection->connect_errno == 1049) { goto Fda9; } die; goto Eb7d; goto b726; b726: Fda9: xnotice("\103\x72\145\141\x74\x69\x6e\147\40\x64\141\164\x61\x62\x61\163\x65\40\x3c\142\x3e{$LI_DB}\x3c\57\142\x3e\x2e\x2e\56"); $li_connection = new mysqli($LI_DB_SERV, $LI_DB_USER, $LI_DB_PASS, false, $q_port); query("\103\122\x45\x41\x54\105\x20\x44\101\x54\101\102\101\123\x45\40\x60{$LI_DB}\x60\40\103\110\101\x52\101\x43\x54\x45\x52\40\123\105\x54\40\x75\164\146\70\40\103\117\114\114\x41\x54\x45\40\x75\164\x66\x38\137\147\145\156\x65\x72\141\154\137\x63\x69"); query("\125\x53\105\40\140{$LI_DB}\140"); goto Da75; Eabc: } function query($Ac6) { goto C95e; Dcf5: c846: if ($e0 instanceof \mysqli_result) { goto E4e0; } return re(true); goto C790; E4e0: goto Bf4f; Bed6: A1a2: $e0->close(); return array_to_query_result($D3); C790: D6c6: goto fa9e; Bf18: $e0 = $li_connection->query($Ac6); if (!$li_connection->errno) { goto c846; } if (!($li_connection->errno == 2006)) { goto Fcf0; } q_disconnect(); return query($Ac6); goto Ee4c; C95e: global $li_connection, $DB_PREFIX; if ($li_connection) { goto f5cc; } q_connect(); f5cc: $Ac6 = str_replace("\40\160\141\x72\x73\145\155\x78\137", "\x20" . $DB_PREFIX, $Ac6); goto Bf18; Ee4c: Fcf0: xwarn("\x53\x51\x4c\40\105\162\x72\157\x72\72\x20" . $li_connection->error); xnotice("\x3c\x66\157\156\164\x20\143\x6f\154\157\x72\x3d\47\x67\162\145\x79\47\x3e\123\121\114\40\121\x75\145\x72\x79\x3a\x3c\57\x66\157\x6e\x74\x3e\x20" . $Ac6); die; goto D6c6; goto Dcf5; Bf4f: $D3 = array(); d36b: if (!($a9 = $e0->fetch_assoc())) { goto A1a2; } $D3[] = $a9; goto d36b; goto Bed6; fa9e: } goto F3d6; F3d6: function escape($A38) { global $li_connection; if ($li_connection) { goto f37d; } return "\x27" . str_replace(array("\x5c", "\0", "\12", "\xd", "\x27", "\42", "\x1a"), array("\x5c\x5c", "\134\x30", "\134\x6e", "\134\162", "\134\47", "\134\x22", "\134\x5a"), $A38) . "\x27"; f37d: return $li_connection->real_escape_string($A38); }
